# DaoyouCode

<div align="center">

**æ–°ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹ - å¤š Agent åä½œ + æ™ºèƒ½ç¼–æ’**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![Status](https://img.shields.io/badge/status-active-success.svg)]()

[English](README.md) â€¢ [ä¸­æ–‡æ–‡æ¡£](README.zh-CN.md)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**DaoyouCode** æ˜¯ä¸€ä¸ªåŸºäºå¤š Agent åä½œçš„æ–°ä¸€ä»£ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œé‡‡ç”¨æ™ºèƒ½ç¼–æ’ç³»ç»Ÿã€å®Œæ•´å·¥å…·é“¾å’Œæ·±åº¦ä»£ç ç†è§£èƒ½åŠ›ï¼Œä¸ºå¼€å‘è€…æä¾›å¼ºå¤§çš„ä»£ç åˆ†æã€ç¼–å†™å’Œé‡æ„æ”¯æŒã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **å¤š Agent åä½œ** - 6 ä¸ªä¸“ä¸š Agentï¼ˆä»£ç åˆ†æã€ç¼–ç¨‹ã€é‡æ„ã€æµ‹è¯•ç­‰ï¼‰æ™ºèƒ½åä½œ
- ğŸ¯ **æ™ºèƒ½ç¼–æ’ç³»ç»Ÿ** - 7 ç§ç¼–æ’ç­–ç•¥ï¼ˆReActã€Multi-Agentã€Parallel ç­‰ï¼‰ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
- ğŸ› ï¸ **å®Œæ•´å·¥å…·é“¾** - 34+ ä¸“ä¸šå·¥å…·ï¼ŒLSP/AST æ·±åº¦é›†æˆï¼ŒGit æ“ä½œæ”¯æŒ
- ğŸ§  **æ™ºèƒ½è®°å¿†ç³»ç»Ÿ** - å¯¹è¯å†å²ã€é•¿æœŸè®°å¿†ã€ç”¨æˆ·ç”»åƒã€æ™ºèƒ½ä¸Šä¸‹æ–‡åŠ è½½
- ğŸŒ **å›½äº§ LLM ä¼˜åŒ–** - æ·±åº¦æ”¯æŒé€šä¹‰åƒé—®ã€DeepSeekï¼Œå¤š Key è½®è¯¢
- ğŸ“ **Skill ç³»ç»Ÿ** - 14+ é¢„ç½®æŠ€èƒ½ï¼Œçµæ´»é…ç½®ï¼Œå¯æ‰©å±•

### ğŸ¯ æŠ€æœ¯äº®ç‚¹

**å¤š Agent åä½œæ¶æ„**
- **Sisyphus ç¼–æ’å™¨** - ä¸» Agentï¼Œè´Ÿè´£ä»»åŠ¡ç†è§£ã€ä¸“å®¶è°ƒåº¦ã€ç»“æœç»¼åˆ
- **Code Analyzer** - æ¶æ„åˆ†æã€ä»£ç å®¡æŸ¥ã€æŠ€æœ¯é€‰å‹
- **Programmer** - ä»£ç ç¼–å†™ã€Bug ä¿®å¤ã€åŠŸèƒ½å®ç°
- **Refactor Master** - ä»£ç é‡æ„ã€æ€§èƒ½ä¼˜åŒ–ã€è®¾è®¡æ”¹è¿›
- **Test Expert** - æµ‹è¯•ç¼–å†™ã€æµ‹è¯•ä¿®å¤ã€è´¨é‡ä¿è¯
- **4 ç§åä½œæ¨¡å¼** - Sequentialï¼ˆé¡ºåºï¼‰ã€Parallelï¼ˆå¹¶è¡Œï¼‰ã€Debateï¼ˆè¾©è®ºï¼‰ã€Main-with-Helpersï¼ˆä¸»ä»ï¼‰

**æ·±åº¦ä»£ç ç†è§£**
- **LSP é›†æˆ** - ç±»å‹ä¿¡æ¯ã€å¼•ç”¨å…³ç³»ã€ä»£ç è¯Šæ–­ã€æ™ºèƒ½é‡å‘½å
- **AST åˆ†æ** - è¯­æ³•æ ‘è§£æã€ç»“æ„åŒ–ä»£ç ç†è§£
- **è¯­ä¹‰æœç´¢** - åŸºäºå‘é‡çš„ä»£ç æ£€ç´¢ï¼Œç†è§£ä»£ç æ„å›¾
- **æ™ºèƒ½ä»£ç åœ°å›¾** - è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®ç»“æ„æ¦‚è§ˆ

**æ™ºèƒ½ç¼–æ’ç³»ç»Ÿ**
- **ReAct æ¨¡å¼** - æ¨ç†-è¡ŒåŠ¨å¾ªç¯ï¼Œæ”¯æŒå¤æ‚å·¥å…·è°ƒç”¨
- **Multi-Agent æ¨¡å¼** - å¤šä¸“å®¶å¹¶è¡Œåˆ†æï¼Œç»¼åˆå†³ç­–
- **Conditional æ¨¡å¼** - æ¡ä»¶åˆ†æ”¯ï¼ŒåŠ¨æ€è·¯ç”±
- **Workflow æ¨¡å¼** - å·¥ä½œæµç¼–æ’ï¼Œå¤æ‚ä»»åŠ¡åˆ†è§£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/daoyou-zhang/daoyoucode.git
cd daoyoucode

# å®‰è£…ä¾èµ–
cd backend
pip install -e .
```

### é…ç½®

ç¼–è¾‘ `backend/config/llm_config.yaml`ï¼š

```yaml
providers:
  qwen:
    api_key: ["your-api-key-here"]  # æ›¿æ¢ä¸ºä½ çš„ API Key
    enabled: true

default:
  model: "qwen-max"
  temperature: 0.7
  max_tokens: 4000
  timeout: 1800
```

### ä½¿ç”¨

```bash
# äº¤äº’å¼å¯¹è¯ï¼ˆé»˜è®¤ chat-assistantï¼‰
daoyoucode chat

# ä½¿ç”¨å¤š Agent ç¼–æ’ï¼ˆSisyphusï¼‰
daoyoucode chat --skill sisyphus-orchestrator

# ä½¿ç”¨ç‰¹å®šä¸“å®¶
daoyoucode chat --skill programming      # ç¼–ç¨‹ä¸“å®¶
daoyoucode chat --skill code-analysis    # ä»£ç åˆ†æ
daoyoucode chat --skill refactoring      # é‡æ„ä¸“å®¶

# å•æ¬¡ç¼–è¾‘
daoyoucode edit "æŠŠ timeout æ”¹æˆ 60"

# æŸ¥çœ‹æ‰€æœ‰ Skill
daoyoucode skills list

# å¥åº·æ£€æŸ¥
daoyoucode doctor
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å¤š Agent åä½œåˆ†æä»£ç 

```bash
daoyoucode chat --skill sisyphus-orchestrator

ä½  > åˆ†æ backend/daoyoucode/agents/core/agent.py çš„è®¾è®¡

AI ä¼šè‡ªåŠ¨ï¼š
1. Code Analyzer åˆ†ææ¶æ„è®¾è®¡
2. Programmer è¯„ä¼°ä»£ç è´¨é‡
3. Sisyphus ç»¼åˆä¸¤ä½ä¸“å®¶çš„æ„è§
4. ç»™å‡ºå®Œæ•´çš„åˆ†ææŠ¥å‘Šå’Œæ”¹è¿›å»ºè®®
```

### ç¤ºä¾‹ 2: æ™ºèƒ½ä»£ç é‡æ„

```bash
ä½  > é‡æ„ agent.pyï¼Œæå‡å¯ç»´æŠ¤æ€§

AI ä¼šï¼š
1. Code Analyzer è¯†åˆ«èŒè´£è¿‡å¤šçš„é—®é¢˜
2. Refactor Master æå‡ºæ‹†åˆ†æ–¹æ¡ˆ
3. Programmer ç»™å‡ºå…·ä½“å®ç°æ­¥éª¤
4. Sisyphus æ•´åˆæ–¹æ¡ˆï¼Œç»™å‡ºæ‰§è¡Œè®¡åˆ’
```

### ç¤ºä¾‹ 3: Bug ä¿®å¤

```bash
ä½  > ä¿®å¤ç™»å½•åŠŸèƒ½çš„ Bug

AI ä¼šï¼š
1. Code Analyzer å®šä½é—®é¢˜ä»£ç 
2. Programmer æä¾›ä¿®å¤æ–¹æ¡ˆ
3. Test Expert å»ºè®®æµ‹è¯•ç”¨ä¾‹
4. Sisyphus ç»¼åˆå†³ç­–ï¼Œæ‰§è¡Œä¿®å¤
```

### ç¤ºä¾‹ 4: äº†è§£é¡¹ç›®

```bash
ä½  > äº†è§£è¿™ä¸ªé¡¹ç›®

AI ä¼šè‡ªåŠ¨ï¼š
1. è°ƒç”¨ discover_project_docs è¯»å– README
2. è°ƒç”¨ get_repo_structure æŸ¥çœ‹ç›®å½•ç»“æ„
3. è°ƒç”¨ repo_map ç”Ÿæˆä»£ç åœ°å›¾
4. ç”¨ç®€æ´çš„è¯­è¨€æ¦‚æ‹¬é¡¹ç›®ç‰¹ç‚¹
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
daoyoucode/
â”œâ”€â”€ backend/                    # Python æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ daoyoucode.py          # CLI å…¥å£
â”‚   â”œâ”€â”€ cli/                   # CLI å‘½ä»¤
â”‚   â”œâ”€â”€ daoyoucode/
â”‚   â”‚   â””â”€â”€ agents/
â”‚   â”‚       â”œâ”€â”€ core/          # Agent æ ¸å¿ƒï¼ˆæ‰§è¡Œã€Promptã€Skillï¼‰
â”‚   â”‚       â”œâ”€â”€ orchestrators/ # ç¼–æ’å™¨ï¼ˆSimpleã€ReActã€Multi-Agent ç­‰ï¼‰
â”‚   â”‚       â”œâ”€â”€ tools/         # å·¥å…·ç³»ç»Ÿï¼ˆ34+ å·¥å…·ï¼‰
â”‚   â”‚       â”œâ”€â”€ llm/           # LLM å®¢æˆ·ç«¯
â”‚   â”‚       â”œâ”€â”€ memory/        # è®°å¿†ç³»ç»Ÿ
â”‚   â”‚       â””â”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ tests/                 # æµ‹è¯•
â”œâ”€â”€ skills/                    # Skill é…ç½®ä¸ Prompt
â”‚   â”œâ”€â”€ sisyphus-orchestrator/ # å¤š Agent ç¼–æ’
â”‚   â”œâ”€â”€ chat-assistant/        # äº¤äº’å¼å¯¹è¯
â”‚   â”œâ”€â”€ programming/           # ç¼–ç¨‹ä¸“å®¶
â”‚   â”œâ”€â”€ code-analysis/         # ä»£ç åˆ†æ
â”‚   â”œâ”€â”€ refactoring/           # é‡æ„ä¸“å®¶
â”‚   â”œâ”€â”€ testing/               # æµ‹è¯•ä¸“å®¶
â”‚   â””â”€â”€ ...
â””â”€â”€ docs/                      # æ–‡æ¡£
```

## ğŸ¤– æ ¸å¿ƒæ¦‚å¿µ

### Agentï¼ˆæ™ºèƒ½ä½“ï¼‰

6 ä¸ªä¸“ä¸š Agentï¼Œå„å¸å…¶èŒï¼š

| Agent | èŒè´£ | æ“…é•¿é¢†åŸŸ |
|-------|------|---------|
| **Sisyphus** | ä»»åŠ¡ç¼–æ’ã€ä¸“å®¶è°ƒåº¦ã€ç»“æœç»¼åˆ | å¤æ‚ä»»åŠ¡åˆ†è§£ã€å¤šä¸“å®¶åä½œ |
| **Code Analyzer** | æ¶æ„åˆ†æã€ä»£ç å®¡æŸ¥ | æŠ€æœ¯é€‰å‹ã€è®¾è®¡è¯„ä¼° |
| **Programmer** | ä»£ç ç¼–å†™ã€Bug ä¿®å¤ | åŠŸèƒ½å®ç°ã€é—®é¢˜è§£å†³ |
| **Refactor Master** | ä»£ç é‡æ„ã€æ€§èƒ½ä¼˜åŒ– | è®¾è®¡æ”¹è¿›ã€ä»£ç è´¨é‡ |
| **Test Expert** | æµ‹è¯•ç¼–å†™ã€è´¨é‡ä¿è¯ | æµ‹è¯•ç­–ç•¥ã€ç”¨ä¾‹è®¾è®¡ |
| **Librarian** | ä»£ç æœç´¢ã€å¿«é€Ÿå®šä½ | ä¿¡æ¯æ£€ç´¢ã€ä»£ç å¯¼èˆª |

### Orchestratorï¼ˆç¼–æ’å™¨ï¼‰

7 ç§ç¼–æ’ç­–ç•¥ï¼Œé€‚åº”ä¸åŒåœºæ™¯ï¼š

| ç¼–æ’å™¨ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|--------|------|---------|
| **Simple** | å• Agent æ‰§è¡Œ | ç®€å•ä»»åŠ¡ |
| **ReAct** | æ¨ç†-è¡ŒåŠ¨å¾ªç¯ | éœ€è¦å·¥å…·è°ƒç”¨çš„ä»»åŠ¡ |
| **Multi-Agent** | å¤š Agent åä½œ | å¤æ‚ä»»åŠ¡ã€éœ€è¦å¤šä¸“å®¶ |
| **Parallel** | å¹¶è¡Œæ‰§è¡Œ | ç‹¬ç«‹å­ä»»åŠ¡ |
| **Conditional** | æ¡ä»¶åˆ†æ”¯ | åŠ¨æ€å†³ç­– |
| **Workflow** | å·¥ä½œæµç¼–æ’ | å›ºå®šæµç¨‹ |
| **Sisyphus** | è¿­ä»£ä¼˜åŒ– | æŒç»­æ”¹è¿› |

### åä½œæ¨¡å¼

**Main-with-Helpersï¼ˆä¸»ä»æ¨¡å¼ï¼‰**
```
1. ç³»ç»Ÿæ ¹æ®ç”¨æˆ·æ„å›¾è‡ªåŠ¨é€‰æ‹©è¾…åŠ© Agent
2. è¾…åŠ© Agent å¹¶è¡Œæ‰§è¡Œåˆ†æ
3. ä¸» Agentï¼ˆSisyphusï¼‰ç»¼åˆæ‰€æœ‰ä¸“å®¶æ„è§
4. ç»™å‡ºå®Œæ•´æ–¹æ¡ˆ
```

**Sequentialï¼ˆé¡ºåºæ¨¡å¼ï¼‰**
```
Agent1 â†’ Agent2 â†’ Agent3
æ¯ä¸ª Agent å¤„ç†å‰ä¸€ä¸ªçš„è¾“å‡º
```

**Parallelï¼ˆå¹¶è¡Œæ¨¡å¼ï¼‰**
```
Agent1 â†˜
Agent2 â†’ èšåˆç»“æœ
Agent3 â†—
```

**Debateï¼ˆè¾©è®ºæ¨¡å¼ï¼‰**
```
å¤šè½®è¾©è®ºï¼Œå…±äº«è®°å¿†ï¼Œè¾¾æˆå…±è¯†
```

### å·¥å…·ç³»ç»Ÿï¼ˆ34+ å·¥å…·ï¼‰

**é¡¹ç›®ç†è§£**ï¼ˆ3 ä¸ªï¼‰
- `discover_project_docs` - å‘ç°é¡¹ç›®æ–‡æ¡£
- `get_repo_structure` - è·å–ç›®å½•ç»“æ„
- `repo_map` - æ™ºèƒ½ä»£ç åœ°å›¾

**ä»£ç æœç´¢**ï¼ˆ4 ä¸ªï¼‰
- `text_search` - æ–‡æœ¬æœç´¢
- `regex_search` - æ­£åˆ™æœç´¢
- `semantic_code_search` - è¯­ä¹‰æ£€ç´¢
- `ast_grep_search` - AST æœç´¢

**LSP å·¥å…·**ï¼ˆ8 ä¸ªï¼‰
- `lsp_diagnostics` - ä»£ç è¯Šæ–­
- `lsp_goto_definition` - è·³è½¬å®šä¹‰
- `lsp_find_references` - æŸ¥æ‰¾å¼•ç”¨
- `lsp_symbols` - è·å–ç¬¦å·
- `lsp_rename` - é‡å‘½å
- `lsp_hover` - æ‚¬åœä¿¡æ¯
- `lsp_completion` - ä»£ç è¡¥å…¨
- `lsp_signature_help` - ç­¾åå¸®åŠ©

**æ–‡ä»¶æ“ä½œ**ï¼ˆ6 ä¸ªï¼‰
- `read_file` / `batch_read_files` - è¯»å–æ–‡ä»¶
- `write_file` / `batch_write_files` - å†™å…¥æ–‡ä»¶
- `search_replace` - æœç´¢æ›¿æ¢
- `apply_patch` - åº”ç”¨è¡¥ä¸

**Git å·¥å…·**ï¼ˆ3 ä¸ªï¼‰
- `git_status` - Git çŠ¶æ€
- `git_diff` - Git å·®å¼‚
- `git_log` - Git æ—¥å¿—

**å…¶ä»–å·¥å…·**ï¼ˆ10+ ä¸ªï¼‰
- `execute_command` - æ‰§è¡Œå‘½ä»¤
- `list_files` - åˆ—å‡ºæ–‡ä»¶
- `get_file_symbols` - è·å–ç¬¦å·
- ...

## ğŸ”§ é«˜çº§åŠŸèƒ½

### æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†

- **è‡ªåŠ¨é¢„å–** - æ ¹æ®ä»»åŠ¡ç±»å‹è‡ªåŠ¨åŠ è½½ç›¸å…³ä¿¡æ¯
- **å¯¹è¯å†å²** - æ™ºèƒ½å‹ç¼©ï¼Œä¿ç•™å…³é”®ä¿¡æ¯
- **é•¿æœŸè®°å¿†** - ç”¨æˆ·åå¥½ã€é¡¹ç›®çŸ¥è¯†æŒä¹…åŒ–
- **è¯­ä¹‰æ£€ç´¢** - åŸºäºå‘é‡çš„ç›¸å…³ä»£ç æ£€ç´¢

### è‡ªåŠ¨æ˜¾ç¤º Diff

ä¿®æ”¹ä»£ç åè‡ªåŠ¨æ˜¾ç¤º unified diffï¼š

```diff
âœ… Successfully modified backend/test.py

ğŸ“ Changes:
--- a/backend/test.py
+++ b/backend/test.py
@@ -10,7 +10,7 @@
-    timeout = 120
+    timeout = 1800
```

### è¶…æ—¶æ¢å¤æœºåˆ¶

è‡ªåŠ¨å¤„ç†è¶…æ—¶é—®é¢˜ï¼š
1. ç¬¬ä¸€æ¬¡ï¼šæ­£å¸¸æ‰§è¡Œ
2. ç¬¬äºŒæ¬¡ï¼šå¢åŠ è¶…æ—¶æ—¶é—´
3. ç¬¬ä¸‰æ¬¡ï¼šç®€åŒ– Prompt + å¢åŠ è¶…æ—¶
4. ç¬¬å››æ¬¡ï¼šä½¿ç”¨å¤‡ç”¨æ¨¡å‹

### å·¥å…·è°ƒç”¨ä¼˜åŒ–

- **åŒè½®å»é‡** - é¿å…é‡å¤è°ƒç”¨ç›¸åŒå·¥å…·
- **ç»“æœç¼“å­˜** - ç¼“å­˜å·¥å…·æ‰§è¡Œç»“æœ
- **æ‰¹é‡æ“ä½œ** - æ”¯æŒæ‰¹é‡è¯»å†™æ–‡ä»¶
- **æ™ºèƒ½åå¤„ç†** - è‡ªåŠ¨æ ¼å¼åŒ–å·¥å…·è¾“å‡º

## ğŸ“š æ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ARCHITECTURE.md](ARCHITECTURE.md) | ä»£ç çº§æ¶æ„ä¸€è§ˆ |
| [backend/README.md](backend/README.md) | åç«¯æ–‡æ¡£å¯¼èˆª |
| [backend/01_CLIå‘½ä»¤å‚è€ƒ.md](backend/01_CLIå‘½ä»¤å‚è€ƒ.md) | CLI å‘½ä»¤è¯¦è§£ |
| [backend/02_ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md](backend/02_ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md) | ç¼–æ’å™¨è¯¦è§£ |
| [backend/03_AGENTSæ™ºèƒ½ä½“ä»‹ç».md](backend/03_AGENTSæ™ºèƒ½ä½“ä»‹ç».md) | Agent è¯¦è§£ |
| [backend/04_TOOLSå·¥å…·å‚è€ƒ.md](backend/04_TOOLSå·¥å…·å‚è€ƒ.md) | å·¥å…·è¯¦è§£ |
| [QUICK_REFERENCE.md](QUICK_REFERENCE.md) | å¿«é€Ÿå‚è€ƒå¡ |

## ğŸ¯ æŠ€æœ¯æ ˆ

- **Python 3.10+** - æ ¸å¿ƒç¼–ç¨‹è¯­è¨€
- **Typer** - CLI æ¡†æ¶
- **Tree-sitter** - ä»£ç è§£æ
- **LSP** - Language Server Protocol
- **é€šä¹‰åƒé—®** - å›½äº§ LLM
- **DeepSeek** - ä»£ç ä¸“ç”¨ LLM
- **Rich** - ç»ˆç«¯ç¾åŒ–
- **Jinja2** - Prompt æ¨¡æ¿

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼é¡¹ç›®æ­£åœ¨ç§¯æå¼€å‘ä¸­ã€‚

- æäº¤ Issueï¼š[GitHub Issues](https://github.com/daoyou-zhang/daoyoucode/issues)
- æäº¤ PRï¼š[Pull Requests](https://github.com/daoyou-zhang/daoyoucode/pulls)

## ğŸ“„ è®¸å¯è¯

[MIT License](LICENSE)

## ï¿½ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹æŠ€æœ¯å’Œå·¥å…·çš„æ”¯æŒï¼š
- Python ç”Ÿæ€ç³»ç»Ÿ
- Tree-sitter ç¤¾åŒº
- LSP åè®®
- é€šä¹‰åƒé—®ã€DeepSeek ç­‰ LLM æä¾›å•†

---

<div align="center">

**é“å‹åŒè¡Œï¼Œæ™ºèƒ½ç¼–ç¨‹**

Made with â¤ï¸ by [daoyou-zhang](https://github.com/daoyou-zhang)

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼

</div>
