# Promptä¿®å¤æ€»ç»“

## é—®é¢˜

LLMä¸€ç›´ä½¿ç”¨å ä½ç¬¦è·¯å¾„ï¼š
- `repo_map(repo_path="./your-repo-path")`
- `read_file(file_path="path/to/your/file.txt")`

## æ ¹æœ¬åŸå› 

LLMçš„è®­ç»ƒæ•°æ®ä¸­åŒ…å«å¤§é‡ç¤ºä¾‹ä»£ç ä½¿ç”¨å ä½ç¬¦ï¼Œå¯¼è‡´å®ƒå€¾å‘äºä½¿ç”¨å ä½ç¬¦è€Œä¸æ˜¯å®é™…è·¯å¾„ã€‚

## è§£å†³æ–¹æ¡ˆï¼ˆä¸‰å±‚é˜²æŠ¤ï¼‰

### ç¬¬1å±‚ï¼šPromptå¼€å¤´å¼ºè°ƒï¼ˆæœ€é‡è¦ï¼‰

åœ¨ `skills/sisyphus-orchestrator/prompts/sisyphus.md` å¼€å¤´æ·»åŠ ï¼š

```markdown
## âš ï¸ é‡è¦ï¼šå·¥å…·ä½¿ç”¨è§„åˆ™

**æ‰€æœ‰å·¥å…·è°ƒç”¨å¿…é¡»éµå®ˆä»¥ä¸‹è§„åˆ™ï¼š**

1. **è·¯å¾„å‚æ•°ä½¿ç”¨ `.` è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•**
   - âœ… æ­£ç¡®ï¼š`repo_map(repo_path=".")`
   - âŒ é”™è¯¯ï¼š`repo_map(repo_path="./your-repo-path")`

2. **æ–‡ä»¶è·¯å¾„ä½¿ç”¨ç›¸å¯¹è·¯å¾„**
   - âœ… æ­£ç¡®ï¼š`read_file(file_path="backend/config.py")`
   - âŒ é”™è¯¯ï¼š`read_file(file_path="path/to/your/file.txt")`

**è®°ä½ï¼šå½“å‰å·¥ä½œç›®å½•å°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼Œä¸éœ€è¦çŒœæµ‹è·¯å¾„ï¼**
```

### ç¬¬2å±‚ï¼šå·¥å…·æè¿°å¼ºè°ƒ

æ›´æ–°æ‰€æœ‰å·¥å…·çš„ `description` å­—æ®µï¼š

**repo_map**:
```python
"description": "ä»“åº“æ ¹ç›®å½•è·¯å¾„ã€‚å¿…é¡»ä½¿ç”¨ '.' è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼Œä¸è¦ä½¿ç”¨å ä½ç¬¦è·¯å¾„ï¼"
```

**read_file**:
```python
"description": "æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰ã€‚ä¾‹å¦‚ï¼š'backend/config.py'ï¼Œä¸è¦ä½¿ç”¨å ä½ç¬¦ï¼"
```

**text_search**:
```python
"description": "æœç´¢ç›®å½•ã€‚é»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼ˆ'.'ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå­ç›®å½•çš„ç›¸å¯¹è·¯å¾„"
```

### ç¬¬3å±‚ï¼šPromptä¸­æ·»åŠ ç¤ºä¾‹

åœ¨Promptä¸­æ·»åŠ æ­£ç¡®å’Œé”™è¯¯çš„å¯¹æ¯”ç¤ºä¾‹ï¼š

```markdown
## å·¥å…·ä½¿ç”¨ç¤ºä¾‹

### âœ… æ­£ç¡®çš„å·¥å…·è°ƒç”¨

```python
repo_map(repo_path=".")
read_file(file_path="backend/config.py")
text_search(query="example", directory=".")
```

### âŒ é”™è¯¯çš„å·¥å…·è°ƒç”¨

```python
repo_map(repo_path="./your-repo-path")  # âŒ ä¸è¦ç”¨å ä½ç¬¦
read_file(file_path="path/to/your/file.txt")  # âŒ ä¸è¦ç”¨å ä½ç¬¦
```
```

## ä¿®æ”¹çš„æ–‡ä»¶

1. `skills/sisyphus-orchestrator/prompts/sisyphus.md`
   - å¼€å¤´æ·»åŠ å·¥å…·ä½¿ç”¨è§„åˆ™
   - æ·»åŠ æ­£ç¡®/é”™è¯¯ç¤ºä¾‹å¯¹æ¯”

2. `backend/daoyoucode/agents/tools/repomap_tools.py`
   - æ›´æ–° `repo_map` çš„æè¿°
   - æ›´æ–° `get_repo_structure` çš„æè¿°

3. `backend/daoyoucode/agents/tools/project_docs_tools.py`
   - æ›´æ–° `get_project_docs` çš„æè¿°

4. `backend/daoyoucode/agents/tools/file_tools.py`
   - æ›´æ–° `read_file` çš„æè¿°
   - æ›´æ–°å…¶ä»–æ–‡ä»¶å·¥å…·çš„æè¿°

5. `backend/daoyoucode/agents/tools/search_tools.py`
   - æ›´æ–° `text_search` çš„æè¿°
   - æ›´æ–° `regex_search` çš„æè¿°

## ä¸ºä»€ä¹ˆè¿™æ ·æœ‰æ•ˆ

1. **å¼€å¤´å¼ºè°ƒ** - LLMä¼šä¼˜å…ˆå…³æ³¨promptå¼€å¤´çš„å†…å®¹
2. **æ˜ç¡®ç¦æ­¢** - ç›´æ¥è¯´"ä¸è¦ä½¿ç”¨å ä½ç¬¦"æ¯”"å¯ä»¥ä½¿ç”¨."æ›´æœ‰æ•ˆ
3. **å¯¹æ¯”ç¤ºä¾‹** - æ­£ç¡®vsé”™è¯¯çš„å¯¹æ¯”è®©LLMæ›´å®¹æ˜“ç†è§£
4. **å·¥å…·æè¿°** - Function Callingæ—¶LLMä¼šå‚è€ƒå·¥å…·æè¿°
5. **é‡å¤å¼ºè°ƒ** - åœ¨å¤šä¸ªåœ°æ–¹é‡å¤ç›¸åŒçš„è§„åˆ™

## æµ‹è¯•éªŒè¯

è¿è¡Œååº”è¯¥çœ‹åˆ°ï¼š
```
ğŸ”§ æ‰§è¡Œå·¥å…·: repo_map
repo_path  .  âœ…

ğŸ”§ æ‰§è¡Œå·¥å…·: read_file
file_path  backend/config.py  âœ…
```

è€Œä¸æ˜¯ï¼š
```
ğŸ”§ æ‰§è¡Œå·¥å…·: repo_map
repo_path  ./your-repo-path  âŒ
```

## å¦‚æœè¿˜æœ‰é—®é¢˜

å¦‚æœLLMä»ç„¶ä½¿ç”¨å ä½ç¬¦ï¼Œå¯ä»¥ï¼š

1. **åœ¨System Promptä¸­æ·»åŠ **ï¼ˆæœ€å¼ºï¼‰
2. **å‡å°‘å·¥å…·æ•°é‡** - å·¥å…·å¤ªå¤šLLMå®¹æ˜“æ··ä¹±
3. **ä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹** - qwen-maxæ¯”qwen-plusæ›´å¥½
4. **æ·»åŠ Few-shotç¤ºä¾‹** - åœ¨promptä¸­æ·»åŠ å®Œæ•´çš„å¯¹è¯ç¤ºä¾‹

## ç”¨æˆ·ç”»åƒåŠŸèƒ½

å·²æ¢å¤ç”¨æˆ·ç”»åƒåŠŸèƒ½ï¼ŒJSONè§£æé—®é¢˜å·²åœ¨ `long_term_memory.py` ä¸­ä¿®å¤ï¼š
- æ£€æŸ¥å“åº”æ˜¯å¦ä¸ºç©º
- æå–JSONéƒ¨åˆ†ï¼ˆå¤„ç†markdownä»£ç å—ï¼‰
- æ›´å¥½çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2025-02-17
**çŠ¶æ€**: âœ… å·²ä¿®å¤
