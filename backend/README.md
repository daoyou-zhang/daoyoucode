# DaoyouCode Backend æ–‡æ¡£

> å®Œæ•´çš„å‚è€ƒæ–‡æ¡£

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### 1. [CLIå‘½ä»¤å‚è€ƒ.md](./CLIå‘½ä»¤å‚è€ƒ.md)
**CLIä½¿ç”¨æŒ‡å—**
- ä¸‰å±‚å¸®åŠ©ç³»ç»Ÿï¼ˆ--help, --examples, exampleså‘½ä»¤ï¼‰
- æ ¸å¿ƒå‘½ä»¤ï¼ˆchat, agent, skills, examplesï¼‰
- ä½¿ç”¨åœºæ™¯å’Œç¤ºä¾‹
- å®Œæ•´å‘½ä»¤æ ‘

**é€‚åˆ**ï¼š
- æ–°ç”¨æˆ·å¿«é€Ÿä¸Šæ‰‹
- æŸ¥æ‰¾å‘½ä»¤ç”¨æ³•
- äº†è§£CLIåŠŸèƒ½

---

### 2. [TOOLSå·¥å…·å‚è€ƒ.md](./TOOLSå·¥å…·å‚è€ƒ.md)
**26ä¸ªå·¥å…·å®Œæ•´å‚è€ƒ**
- å·¥å…·æ€»è§ˆå’Œå¿«é€ŸæŸ¥æ‰¾è¡¨
- æŒ‰åœºæ™¯é€‰æ‹©å·¥å…·
- æ ¸å¿ƒå·¥å…·è¯¦è§£
- å·¥å…·ç»„åˆæ¨¡å¼
- æ€§èƒ½å’Œå®‰å…¨æç¤º

**é€‚åˆ**ï¼š
- ç¼–å†™Agent Prompt
- é€‰æ‹©åˆé€‚çš„å·¥å…·
- äº†è§£å·¥å…·èƒ½åŠ›

---

### 3. [AGENTSæ™ºèƒ½ä½“ä»‹ç».md](./AGENTSæ™ºèƒ½ä½“ä»‹ç».md)
**10ä¸ªAgentå®Œæ•´ä»‹ç»**
- Agentæ€»è§ˆå’Œå¯¹æ¯”
- æ ¸å¿ƒAgentè¯¦è§£ï¼ˆsisyphus, oracle, librarianç­‰ï¼‰
- Agenté€‰æ‹©æŒ‡å—
- Agentåä½œæ¨¡å¼

**é€‚åˆ**ï¼š
- äº†è§£Agentèƒ½åŠ›
- é€‰æ‹©åˆé€‚çš„Agent
- é…ç½®Skill

---

### 4. [ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md](./ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md)
**7ä¸ªç¼–æ’å™¨å®Œæ•´ä»‹ç»**
- ç¼–æ’å™¨æ€»è§ˆå’Œå¯¹æ¯”
- æ ¸å¿ƒç¼–æ’å™¨è¯¦è§£ï¼ˆsimple, react, multi_agentç­‰ï¼‰
- 4ç§åä½œæ¨¡å¼ï¼ˆsequential, parallel, debate, main_with_helpersï¼‰
- ç¼–æ’å™¨é€‰æ‹©æŒ‡å—

**é€‚åˆ**ï¼š
- äº†è§£ç¼–æ’å™¨èƒ½åŠ›
- é€‰æ‹©åˆé€‚çš„ç¼–æ’å™¨
- é…ç½®å¤æ‚ä»»åŠ¡

---

### 5. [æ¨¡å‹é…ç½®æ¶æ„è¯´æ˜.md](./æ¨¡å‹é…ç½®æ¶æ„è¯´æ˜.md) â­
**æ¨¡å‹é…ç½®æœ€ä½³å®è·µ**
- æ¨¡å‹é…ç½®åº”è¯¥åœ¨Skillé…ç½®æ–‡ä»¶ä¸­
- é…ç½®ä¼˜å…ˆçº§å’Œæ¶æ„æµç¨‹
- ä»£ç å®ç°è¯¦è§£
- å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

**é€‚åˆ**ï¼š
- é…ç½®Skillä½¿ç”¨çš„æ¨¡å‹
- ç†è§£æ¨¡å‹é…ç½®æ¶æ„
- è§£å†³æ¨¡å‹é…ç½®é—®é¢˜

---

### 6. [å¦‚ä½•é…ç½®æ¨¡å‹.md](./å¦‚ä½•é…ç½®æ¨¡å‹.md) ğŸš€
**å¿«é€Ÿé…ç½®æŒ‡å—**
- 3æ­¥é…ç½®æ¨¡å‹
- å¸¸è§åœºæ™¯å’Œç¤ºä¾‹
- å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ
- å®Œæ•´ç¤ºä¾‹å’Œæ£€æŸ¥æ¸…å•

**é€‚åˆ**ï¼š
- å¿«é€Ÿä¸Šæ‰‹é…ç½®æ¨¡å‹
- æŸ¥æ‰¾é…ç½®ç¤ºä¾‹
- è§£å†³é…ç½®é—®é¢˜

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
```bash
python backend/daoyoucode.py --help
```

### 2. æŸ¥çœ‹ä½¿ç”¨ç¤ºä¾‹
```bash
python backend/daoyoucode.py examples
```

### 3. å¯åŠ¨å¯¹è¯
```bash
# é»˜è®¤chatæ¨¡å¼
python backend/daoyoucode.py chat

# ä½¿ç”¨sisyphusç¼–æ’ï¼ˆå¤æ‚ä»»åŠ¡ï¼‰
python backend/daoyoucode.py chat --skill sisyphus-orchestrator

# ä½¿ç”¨oracleå’¨è¯¢ï¼ˆæ¶æ„åˆ†æï¼‰
python backend/daoyoucode.py chat --skill oracle

# ä½¿ç”¨librarianæœç´¢ï¼ˆæ–‡æ¡£æŸ¥æ‰¾ï¼‰
python backend/daoyoucode.py chat --skill librarian
```

---

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µ

### 1. Skillï¼ˆæŠ€èƒ½ï¼‰- CLIä¼ å‚çš„å¯¹è±¡ â­
- **é…ç½®æ–‡ä»¶**ï¼Œå®šä¹‰ä½¿ç”¨å“ªäº›Agentã€å·¥å…·å’Œç¼–æ’å™¨
- **CLIé€šè¿‡`--skill`å‚æ•°æŒ‡å®šSkill**
- 12ä¸ªå†…ç½®Skill
- å¯è‡ªå®šä¹‰Skill

**Skillé…ç½®ç¤ºä¾‹**ï¼š
```yaml
name: sisyphus-orchestrator
orchestrator: multi_agent        # æŒ‡å®šç¼–æ’å™¨
agents:                          # æŒ‡å®šAgentåˆ—è¡¨
  - sisyphus
  - code_analyzer
tools:                           # æŒ‡å®šå·¥å…·åˆ—è¡¨
  - repo_map
  - read_file
```

### 2. Orchestratorï¼ˆç¼–æ’å™¨ï¼‰- SkillæŒ‡å®šçš„åè°ƒè€…
- è´Ÿè´£åè°ƒå¤šä¸ªAgentçš„å·¥ä½œæ–¹å¼
- **ç”±Skillé…ç½®æ–‡ä»¶æŒ‡å®š**ï¼ˆorchestratorå­—æ®µï¼‰
- 7ä¸ªå†…ç½®ç¼–æ’å™¨
- æ”¯æŒ4ç§åä½œæ¨¡å¼

### 3. Agentï¼ˆæ™ºèƒ½ä½“ï¼‰- æ‰§è¡Œè€…
- æ‰§è¡Œå…·ä½“ä»»åŠ¡çš„æ™ºèƒ½ä½“
- **ç”±Skillé…ç½®æ–‡ä»¶æŒ‡å®š**ï¼ˆagentså­—æ®µï¼‰
- æ¯ä¸ªAgentæœ‰ä¸åŒçš„èŒè´£å’Œå·¥å…·é›†
- 10ä¸ªå†…ç½®Agent

### 4. Toolï¼ˆå·¥å…·ï¼‰- Agentä½¿ç”¨çš„åŠŸèƒ½
- Agentä½¿ç”¨çš„å…·ä½“åŠŸèƒ½
- **ç”±Skillé…ç½®æ–‡ä»¶æŒ‡å®š**ï¼ˆtoolså­—æ®µï¼‰
- 26ä¸ªå†…ç½®å·¥å…·
- æ¶µç›–æ–‡ä»¶æ“ä½œã€æœç´¢ã€Gitã€LSPã€ASTç­‰

---

## ğŸ—ï¸ æ¶æ„å…³ç³»å›¾

```
ç”¨æˆ·æ‰§è¡Œå‘½ä»¤
 â†“
python daoyoucode.py chat --skill sisyphus-orchestrator
                            â†“
                    Skillé…ç½®æ–‡ä»¶
                    (skills/sisyphus-orchestrator/skill.yaml)
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                   â†“                   â†“
  orchestrator:       agents:              tools:
  multi_agent         - sisyphus           - repo_map
                      - code_analyzer      - read_file
                      - programmer         - text_search
                            â†“
                    ç¼–æ’å™¨ï¼ˆOrchestratorï¼‰
                    åè°ƒAgentå·¥ä½œæ–¹å¼
                            â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“                   â†“                   â†“
    Agent1              Agent2              Agent3
    (sisyphus)      (code_analyzer)     (programmer)
        â†“                   â†“                   â†“
    ä½¿ç”¨å·¥å…·            ä½¿ç”¨å·¥å…·            ä½¿ç”¨å·¥å…·
        â†“                   â†“                   â†“
                    è¿”å›ç»“æœç»™ç”¨æˆ·
```

**å…³é”®ç‚¹**ï¼š
1. âœ… CLIä¼ çš„æ˜¯**Skillåç§°**ï¼ˆä¸æ˜¯Agentåç§°ï¼‰
2. âœ… Skillé…ç½®æ–‡ä»¶æŒ‡å®šä½¿ç”¨å“ªä¸ª**ç¼–æ’å™¨**
3. âœ… Skillé…ç½®æ–‡ä»¶æŒ‡å®šä½¿ç”¨å“ªäº›**Agent**
4. âœ… ç¼–æ’å™¨è´Ÿè´£åè°ƒAgentçš„å·¥ä½œæ–¹å¼
5. âœ… Agentä½¿ç”¨å·¥å…·å®Œæˆå…·ä½“ä»»åŠ¡

**ç¼–æ’å™¨çš„æ„ä¹‰**ï¼š
- å†³å®šAgentçš„**åä½œæ–¹å¼**ï¼ˆé¡ºåºã€å¹¶è¡Œã€è¾©è®ºã€ä¸»ä»ï¼‰
- æ§åˆ¶Agentçš„**æ‰§è¡Œæµç¨‹**ï¼ˆé‡è¯•ã€è¶…æ—¶ã€å›æ»šï¼‰
- ç®¡ç†Agentçš„**ç»“æœèšåˆ**ï¼ˆå¦‚ä½•ç»„åˆå¤šä¸ªAgentçš„è¾“å‡ºï¼‰

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šæ—¥å¸¸å¯¹è¯
```bash
python backend/daoyoucode.py chat
```
- Skill: chat-assistant
- Agent: MainAgent
- ç¼–æ’å™¨: react

### åœºæ™¯2ï¼šå¤æ‚ä»»åŠ¡ï¼ˆé‡æ„+æµ‹è¯•ï¼‰
```bash
python backend/daoyoucode.py chat --skill sisyphus-orchestrator
```
- Skill: sisyphus-orchestrator
- Agent: sisyphus + 4ä¸ªè¾…åŠ©Agent
- ç¼–æ’å™¨: multi_agent

### åœºæ™¯3ï¼šæ¶æ„å’¨è¯¢
```bash
python backend/daoyoucode.py chat --skill oracle
```
- Skill: oracle
- Agent: oracle
- ç¼–æ’å™¨: react
- ç‰¹ç‚¹: åªè¯»ï¼Œä¸ä¿®æ”¹ä»£ç 

### åœºæ™¯4ï¼šæ–‡æ¡£æœç´¢
```bash
python backend/daoyoucode.py chat --skill librarian
```
- Skill: librarian
- Agent: librarian
- ç¼–æ’å™¨: react
- ç‰¹ç‚¹: åªè¯»ï¼Œä¸“æ³¨æœç´¢

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·
 â†“
CLIå‘½ä»¤
 â†“
Skillé…ç½®
 â†“
ç¼–æ’å™¨ï¼ˆOrchestratorï¼‰
 â†“
Agentï¼ˆæ™ºèƒ½ä½“ï¼‰
 â†“
å·¥å…·ï¼ˆToolsï¼‰
```

**æ•°æ®æµ**ï¼š
```
ç”¨æˆ·è¾“å…¥ â†’ CLI â†’ Skill â†’ ç¼–æ’å™¨ â†’ Agent â†’ å·¥å…· â†’ ç»“æœ
```

**é…ç½®æµ**ï¼š
```
Skillé…ç½® â†’ ç¼–æ’å™¨ â†’ Agent â†’ LLM/å·¥å…·
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°Agent
å‚è€ƒï¼š[AGENTSæ™ºèƒ½ä½“ä»‹ç».md](./AGENTSæ™ºèƒ½ä½“ä»‹ç».md)

### æ·»åŠ æ–°å·¥å…·
å‚è€ƒï¼š[TOOLSå·¥å…·å‚è€ƒ.md](./TOOLSå·¥å…·å‚è€ƒ.md)

### é…ç½®æ–°Skill
å‚è€ƒï¼š[CLIå‘½ä»¤å‚è€ƒ.md](./CLIå‘½ä»¤å‚è€ƒ.md)

### é€‰æ‹©ç¼–æ’å™¨
å‚è€ƒï¼š[ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md](./ORCHESTRATORSç¼–æ’å™¨ä»‹ç».md)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### 2025-02-17
- âœ… æ•´ç†æ–‡æ¡£ï¼Œåˆå¹¶ä¸º4ä¸ªæ ¸å¿ƒæ–‡æ¡£
- âœ… æ·»åŠ CLIä¸‰å±‚å¸®åŠ©ç³»ç»Ÿ
- âœ… æ·»åŠ exampleså‘½ä»¤
- âœ… å®Œå–„Agentå’Œç¼–æ’å™¨ä»‹ç»

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç å’Œæ–‡æ¡£ï¼

---

## ğŸ“§ è”ç³»

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æIssueã€‚
