# DaoyouCode å·¥å…·å®Œæ•´å‚è€ƒæ‰‹å†Œ

> **ç”¨é€”**: ä¸ºç¼–å†™ Agent Prompt æä¾›å·¥å…·èƒ½åŠ›å‚è€ƒ  
> **æ›´æ–°æ—¶é—´**: 2025-02-17  
> **å·¥å…·æ€»æ•°**: 26ä¸ª

---

## ğŸ“‹ ç›®å½•

1. [æ–‡ä»¶æ“ä½œå·¥å…·](#1-æ–‡ä»¶æ“ä½œå·¥å…·) (6ä¸ª)
2. [æœç´¢å·¥å…·](#2-æœç´¢å·¥å…·) (2ä¸ª)
3. [Gitå·¥å…·](#3-gitå·¥å…·) (4ä¸ª)
4. [å‘½ä»¤æ‰§è¡Œå·¥å…·](#4-å‘½ä»¤æ‰§è¡Œå·¥å…·) (2ä¸ª)
5. [ä»£ç ç¼–è¾‘å·¥å…·](#5-ä»£ç ç¼–è¾‘å·¥å…·) (1ä¸ª)
6. [LSPå·¥å…·](#6-lspå·¥å…·) (6ä¸ª)
7. [ASTå·¥å…·](#7-astå·¥å…·) (2ä¸ª)
8. [ä»£ç åœ°å›¾å·¥å…·](#8-ä»£ç åœ°å›¾å·¥å…·) (2ä¸ª)
9. [é¡¹ç›®æ–‡æ¡£å·¥å…·](#9-é¡¹ç›®æ–‡æ¡£å·¥å…·) (1ä¸ª)

---

## 1. æ–‡ä»¶æ“ä½œå·¥å…·

### 1.1 read_file - è¯»å–æ–‡ä»¶

**åŠŸèƒ½**: è¯»å–å•ä¸ªæ–‡ä»¶çš„å®Œæ•´å†…å®¹

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰
- `encoding` (string, å¯é€‰): ç¼–ç æ ¼å¼ï¼Œé»˜è®¤ "utf-8"

**è¿”å›**: æ–‡ä»¶çš„å®Œæ•´æ–‡æœ¬å†…å®¹

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥çœ‹æ–‡ä»¶å†…å®¹
- åˆ†æä»£ç é€»è¾‘
- æ£€æŸ¥é…ç½®æ–‡ä»¶

**ç¤ºä¾‹**:
```python
read_file(file_path="src/main.py")
read_file(file_path="config.json", encoding="utf-8")
```

**æ³¨æ„äº‹é¡¹**:
- å¤§æ–‡ä»¶ä¼šè¢«æˆªæ–­ï¼ˆæœ€å¤§5000å­—ç¬¦æˆ–200è¡Œï¼‰
- äºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½æ— æ³•æ­£ç¡®è¯»å–

---

### 1.2 write_file - å†™å…¥æ–‡ä»¶

**åŠŸèƒ½**: åˆ›å»ºæ–°æ–‡ä»¶æˆ–è¦†ç›–ç°æœ‰æ–‡ä»¶

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `content` (string, å¿…éœ€): æ–‡ä»¶å†…å®¹
- `encoding` (string, å¯é€‰): ç¼–ç æ ¼å¼ï¼Œé»˜è®¤ "utf-8"
- `create_dirs` (boolean, å¯é€‰): æ˜¯å¦è‡ªåŠ¨åˆ›å»ºç›®å½•ï¼Œé»˜è®¤ true

**è¿”å›**: æˆåŠŸæ¶ˆæ¯å’Œæ–‡ä»¶å…ƒä¿¡æ¯

**ä½¿ç”¨åœºæ™¯**:
- åˆ›å»ºæ–°æ–‡ä»¶
- å®Œå…¨é‡å†™æ–‡ä»¶
- ç”Ÿæˆé…ç½®æ–‡ä»¶

**ç¤ºä¾‹**:
```python
write_file(
    file_path="src/new_module.py",
    content="def hello():\n    print('Hello')"
)
```

**æ³¨æ„äº‹é¡¹**:
- ä¼šè¦†ç›–ç°æœ‰æ–‡ä»¶ï¼Œä½¿ç”¨å‰è¯·ç¡®è®¤
- å¤§æ–‡ä»¶å†™å…¥å¯èƒ½è¾ƒæ…¢

---

### 1.3 list_files - åˆ—å‡ºç›®å½•

**åŠŸèƒ½**: åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•

**å‚æ•°**:
- `directory` (string, å¯é€‰): ç›®å½•è·¯å¾„ï¼Œé»˜è®¤ "." (å½“å‰ç›®å½•)
- `recursive` (boolean, å¯é€‰): æ˜¯å¦é€’å½’åˆ—å‡ºå­ç›®å½•ï¼Œé»˜è®¤ false
- `pattern` (string, å¯é€‰): æ–‡ä»¶åæ¨¡å¼ï¼Œå¦‚ "*.py"
- `max_depth` (integer, å¯é€‰): æœ€å¤§é€’å½’æ·±åº¦ï¼Œé»˜è®¤ 3

**è¿”å›**: æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨ï¼ŒåŒ…å«è·¯å¾„ã€åç§°ã€ç±»å‹ã€å¤§å°

**ä½¿ç”¨åœºæ™¯**:
- æµè§ˆé¡¹ç›®ç»“æ„
- æŸ¥æ‰¾ç‰¹å®šç±»å‹çš„æ–‡ä»¶
- äº†è§£ç›®å½•å†…å®¹

**ç¤ºä¾‹**:
```python
list_files(directory="src")
list_files(directory=".", recursive=true, pattern="*.py", max_depth=2)
```

---

### 1.4 get_file_info - è·å–æ–‡ä»¶ä¿¡æ¯

**åŠŸèƒ½**: è·å–æ–‡ä»¶æˆ–ç›®å½•çš„è¯¦ç»†å…ƒä¿¡æ¯

**å‚æ•°**:
- `path` (string, å¿…éœ€): æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„

**è¿”å›**: æ–‡ä»¶å…ƒä¿¡æ¯ï¼ˆå¤§å°ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ã€ç±»å‹ç­‰ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- è·å–æ–‡ä»¶å¤§å°
- æŸ¥çœ‹æœ€åä¿®æ”¹æ—¶é—´

**ç¤ºä¾‹**:
```python
get_file_info(path="src/main.py")
```

---

### 1.5 create_directory - åˆ›å»ºç›®å½•

**åŠŸèƒ½**: åˆ›å»ºæ–°ç›®å½•

**å‚æ•°**:
- `directory` (string, å¿…éœ€): ç›®å½•è·¯å¾„
- `parents` (boolean, å¯é€‰): æ˜¯å¦é€’å½’åˆ›å»ºçˆ¶ç›®å½•ï¼Œé»˜è®¤ true

**è¿”å›**: æˆåŠŸæ¶ˆæ¯

**ä½¿ç”¨åœºæ™¯**:
- åˆ›å»ºæ–°çš„æ¨¡å—ç›®å½•
- ç»„ç»‡é¡¹ç›®ç»“æ„

**ç¤ºä¾‹**:
```python
create_directory(directory="src/new_module")
create_directory(directory="tests/unit/helpers", parents=true)
```

---

### 1.6 delete_file - åˆ é™¤æ–‡ä»¶/ç›®å½•

**åŠŸèƒ½**: åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•

**å‚æ•°**:
- `path` (string, å¿…éœ€): æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„
- `recursive` (boolean, å¯é€‰): æ˜¯å¦é€’å½’åˆ é™¤ç›®å½•ï¼Œé»˜è®¤ false

**è¿”å›**: æˆåŠŸæ¶ˆæ¯

**ä½¿ç”¨åœºæ™¯**:
- åˆ é™¤ä¸´æ—¶æ–‡ä»¶
- æ¸…ç†ä¸éœ€è¦çš„ä»£ç 

**ç¤ºä¾‹**:
```python
delete_file(path="temp.txt")
delete_file(path="old_module", recursive=true)
```

**æ³¨æ„äº‹é¡¹**:
- åˆ é™¤æ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…ä½¿ç”¨
- åˆ é™¤ç›®å½•éœ€è¦ recursive=true

---

## 2. æœç´¢å·¥å…·

### 2.1 text_search - æ–‡æœ¬æœç´¢

**åŠŸèƒ½**: åœ¨æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬ï¼ˆç±»ä¼¼ grepï¼‰

**å‚æ•°**:
- `query` (string, å¿…éœ€): æœç´¢å…³é”®è¯
- `directory` (string, å¯é€‰): æœç´¢ç›®å½•ï¼Œé»˜è®¤ "."
- `file_pattern` (string, å¯é€‰): æ–‡ä»¶åæ¨¡å¼ï¼Œå¦‚ "*.py"
- `case_sensitive` (boolean, å¯é€‰): æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œé»˜è®¤ false
- `max_results` (integer, å¯é€‰): æœ€å¤§ç»“æœæ•°ï¼Œé»˜è®¤ 100

**è¿”å›**: åŒ¹é…ç»“æœåˆ—è¡¨ï¼ˆæ–‡ä»¶è·¯å¾„ã€è¡Œå·ã€åŒ¹é…å†…å®¹ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥æ‰¾å‡½æ•°è°ƒç”¨
- æœç´¢å˜é‡ä½¿ç”¨
- æŸ¥æ‰¾TODOæ³¨é‡Š

**ç¤ºä¾‹**:
```python
text_search(query="def main", directory="src", file_pattern="*.py")
text_search(query="TODO", case_sensitive=false)
```

---

### 2.2 regex_search - æ­£åˆ™è¡¨è¾¾å¼æœç´¢

**åŠŸèƒ½**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡ä»¶

**å‚æ•°**:
- `pattern` (string, å¿…éœ€): æ­£åˆ™è¡¨è¾¾å¼
- `directory` (string, å¯é€‰): æœç´¢ç›®å½•ï¼Œé»˜è®¤ "."
- `file_pattern` (string, å¯é€‰): æ–‡ä»¶åæ¨¡å¼
- `flags` (integer, å¯é€‰): æ­£åˆ™æ ‡å¿—ï¼Œé»˜è®¤ 0
- `max_results` (integer, å¯é€‰): æœ€å¤§ç»“æœæ•°ï¼Œé»˜è®¤ 100

**è¿”å›**: åŒ¹é…ç»“æœåˆ—è¡¨ï¼ˆåŒ…å«æ•è·ç»„ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- å¤æ‚æ¨¡å¼åŒ¹é…
- æå–ç‰¹å®šæ ¼å¼çš„æ•°æ®
- æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„ä»£ç 

**ç¤ºä¾‹**:
```python
regex_search(pattern="def \\w+\\(.*\\):", directory="src")
regex_search(pattern="class (\\w+):", file_pattern="*.py")
```

---

## 3. Gitå·¥å…·

### 3.1 git_status - GitçŠ¶æ€

**åŠŸèƒ½**: è·å–Gitä»“åº“çŠ¶æ€

**å‚æ•°**:
- `repo_path` (string, å¯é€‰): ä»“åº“è·¯å¾„ï¼Œé»˜è®¤ "."
- `include_diff` (boolean, å¯é€‰): æ˜¯å¦åŒ…å«æ–‡ä»¶å·®å¼‚ï¼Œé»˜è®¤ false

**è¿”å›**: GitçŠ¶æ€ä¿¡æ¯ï¼ˆå½“å‰åˆ†æ”¯ã€ä¿®æ”¹çš„æ–‡ä»¶ã€æš‚å­˜çš„æ–‡ä»¶ã€æœªè·Ÿè¸ªçš„æ–‡ä»¶ã€æœ€è¿‘æäº¤ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æ£€æŸ¥å·¥ä½œç›®å½•çŠ¶æ€
- æŸ¥çœ‹æœªæäº¤çš„æ›´æ”¹
- äº†è§£å½“å‰åˆ†æ”¯

**ç¤ºä¾‹**:
```python
git_status()
git_status(repo_path=".", include_diff=false)
```

**è¿”å›ç¤ºä¾‹**:
```
ğŸ“ Git ä»“åº“: /path/to/repo
ğŸŒ¿ å½“å‰åˆ†æ”¯: main

ğŸ“ å·²ä¿®æ”¹çš„æ–‡ä»¶ (2):
  â€¢ src/main.py
  â€¢ tests/test_main.py

âœ¨ å·¥ä½œç›®å½•å¹²å‡€ï¼Œæ²¡æœ‰æœªæäº¤çš„æ›´æ”¹
```

---

### 3.2 git_diff - Gitå·®å¼‚ (å ä½ç¬¦)

**åŠŸèƒ½**: è·å–Gitæ–‡ä»¶å·®å¼‚

**çŠ¶æ€**: ğŸš§ å°šæœªå®ç°

---

### 3.3 git_commit - Gitæäº¤ (å ä½ç¬¦)

**åŠŸèƒ½**: æäº¤Gitæ›´æ”¹

**çŠ¶æ€**: ğŸš§ å°šæœªå®ç°

---

### 3.4 git_log - Gitæ—¥å¿— (å ä½ç¬¦)

**åŠŸèƒ½**: æŸ¥çœ‹Gitæäº¤å†å²

**çŠ¶æ€**: ğŸš§ å°šæœªå®ç°

---

## 4. å‘½ä»¤æ‰§è¡Œå·¥å…·

### 4.1 run_command - æ‰§è¡Œå‘½ä»¤

**åŠŸèƒ½**: æ‰§è¡Œshellå‘½ä»¤

**å‚æ•°**:
- `command` (string, å¿…éœ€): è¦æ‰§è¡Œçš„å‘½ä»¤
- `cwd` (string, å¯é€‰): å·¥ä½œç›®å½•
- `timeout` (integer, å¯é€‰): è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 30
- `shell` (boolean, å¯é€‰): æ˜¯å¦ä½¿ç”¨shellï¼Œé»˜è®¤ true

**è¿”å›**: å‘½ä»¤è¾“å‡ºï¼ˆstdoutã€stderrã€è¿”å›ç ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- è¿è¡Œæ„å»ºå‘½ä»¤
- æ‰§è¡Œè„šæœ¬
- è°ƒç”¨å¤–éƒ¨å·¥å…·

**ç¤ºä¾‹**:
```python
run_command(command="npm install")
run_command(command="python setup.py build", cwd="backend", timeout=60)
```

**æ³¨æ„äº‹é¡¹**:
- é•¿æ—¶é—´è¿è¡Œçš„å‘½ä»¤ä¼šè¶…æ—¶
- è¿”å›ç é0è¡¨ç¤ºå‘½ä»¤å¤±è´¥

---

### 4.2 run_test - è¿è¡Œæµ‹è¯•

**åŠŸèƒ½**: è¿è¡Œæµ‹è¯•ï¼ˆæ”¯æŒpytestã€unittestã€jestç­‰ï¼‰

**å‚æ•°**:
- `test_path` (string, å¯é€‰): æµ‹è¯•æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„
- `test_framework` (string, å¯é€‰): æµ‹è¯•æ¡†æ¶ï¼ˆpytest/unittest/jestï¼‰ï¼Œé»˜è®¤ "pytest"
- `cwd` (string, å¯é€‰): å·¥ä½œç›®å½•
- `timeout` (integer, å¯é€‰): è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 60

**è¿”å›**: æµ‹è¯•ç»“æœï¼ˆé€šè¿‡æ•°ã€å¤±è´¥æ•°ã€è·³è¿‡æ•°ã€è¾“å‡ºï¼‰

**ä½¿ç”¨åœºæ™¯**:
- è¿è¡Œå•å…ƒæµ‹è¯•
- éªŒè¯ä»£ç æ›´æ”¹
- æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡

**ç¤ºä¾‹**:
```python
run_test(test_path="tests/test_main.py", test_framework="pytest")
run_test(test_framework="jest")
```

**è¿”å›ç¤ºä¾‹**:
```json
{
  "stdout": "...",
  "stderr": "",
  "returncode": 0,
  "passed": 10,
  "failed": 0,
  "skipped": 1,
  "total": 11
}
```

---

## 5. ä»£ç ç¼–è¾‘å·¥å…·

### 5.1 search_replace - SEARCH/REPLACEç¼–è¾‘

**åŠŸèƒ½**: ä½¿ç”¨SEARCH/REPLACEæ¨¡å¼ç¼–è¾‘æ–‡ä»¶ï¼ˆæ”¯æŒ9ç§æ™ºèƒ½åŒ¹é…ç­–ç•¥ï¼‰

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `search` (string, å¿…éœ€): è¦æœç´¢çš„å†…å®¹ï¼ˆå¿…é¡»ç²¾ç¡®åŒ¹é…ï¼‰
- `replace` (string, å¿…éœ€): æ›¿æ¢åçš„å†…å®¹
- `replace_all` (boolean, å¯é€‰): æ˜¯å¦æ›¿æ¢æ‰€æœ‰å‡ºç°ï¼Œé»˜è®¤ false

**è¿”å›**: æˆåŠŸæ¶ˆæ¯å’Œæ–‡ä»¶å…ƒä¿¡æ¯

**ä½¿ç”¨åœºæ™¯**:
- ç²¾ç¡®æ›¿æ¢ä»£ç å—
- ä¿®æ”¹å‡½æ•°å®ç°
- æ›´æ–°é…ç½®

**9ç§æ™ºèƒ½åŒ¹é…ç­–ç•¥**:
1. **ç²¾ç¡®åŒ¹é…** - å®Œå…¨ç›¸åŒçš„å­—ç¬¦ä¸²
2. **å¿½ç•¥è¡Œé¦–å°¾ç©ºç™½** - å¿½ç•¥æ¯è¡Œçš„å‰åç©ºæ ¼
3. **é¦–å°¾è¡Œé”šå®š** - ä½¿ç”¨é¦–å°¾è¡Œä½œä¸ºé”šç‚¹ï¼Œä¸­é—´è¡Œæ¨¡ç³ŠåŒ¹é…ï¼ˆLevenshteinè·ç¦»ï¼‰
4. **ç©ºç™½å½’ä¸€åŒ–** - å°†å¤šä¸ªç©ºç™½å­—ç¬¦è§†ä¸ºä¸€ä¸ª
5. **ç¼©è¿›çµæ´»åŒ¹é…** - å¿½ç•¥ç¼©è¿›å·®å¼‚
6. **è½¬ä¹‰å­—ç¬¦å¤„ç†** - å¤„ç† \nã€\t ç­‰è½¬ä¹‰å­—ç¬¦
7. **è¾¹ç•Œtrim** - å¿½ç•¥é¦–å°¾ç©ºç™½
8. **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** - åŸºäºä¸Šä¸‹æ–‡çš„æ™ºèƒ½åŒ¹é…
9. **å¤šæ¬¡å‡ºç°å¤„ç†** - å¤„ç†å¤šæ¬¡å‡ºç°çš„æƒ…å†µ

**ç¤ºä¾‹**:
```python
search_replace(
    file_path="src/main.py",
    search="def old_function():\n    pass",
    replace="def new_function():\n    return True"
)
```

**æ³¨æ„äº‹é¡¹**:
- searchå†…å®¹å¿…é¡»åœ¨æ–‡ä»¶ä¸­å­˜åœ¨ä¸”å”¯ä¸€ï¼ˆé™¤é replace_all=trueï¼‰
- å¦‚æœæœ‰å¤šä¸ªåŒ¹é…ï¼Œéœ€è¦æä¾›æ›´å¤šä¸Šä¸‹æ–‡
- æ”¯æŒå¤šè¡Œæ›¿æ¢

---

## 6. LSPå·¥å…·

### 6.1 lsp_diagnostics - è·å–è¯Šæ–­ä¿¡æ¯

**åŠŸèƒ½**: è·å–è¯­è¨€æœåŠ¡å™¨çš„è¯Šæ–­ä¿¡æ¯ï¼ˆé”™è¯¯ã€è­¦å‘Šã€æç¤ºï¼‰

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `severity` (string, å¯é€‰): è¿‡æ»¤ä¸¥é‡æ€§ï¼ˆerror/warning/information/hint/allï¼‰ï¼Œé»˜è®¤ "all"

**è¿”å›**: è¯Šæ–­ä¿¡æ¯åˆ—è¡¨ï¼ˆè¡Œå·ã€åˆ—å·ã€ä¸¥é‡æ€§ã€æ¶ˆæ¯ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æ£€æŸ¥è¯­æ³•é”™è¯¯
- æŸ¥çœ‹ç±»å‹é”™è¯¯
- è·å–ä»£ç è­¦å‘Š

**ç¤ºä¾‹**:
```python
lsp_diagnostics(file_path="src/main.py")
lsp_diagnostics(file_path="src/main.py", severity="error")
```

**è¿”å›ç¤ºä¾‹**:
```
[error] Line 10:5 - Undefined variable 'x'
[warning] Line 15:10 - Unused import 'os'
[hint] Line 20:0 - Consider using f-string
```

**æ”¯æŒçš„è¯­è¨€**:
- Python (pyright/pylsp)
- JavaScript/TypeScript (typescript-language-server)
- Rust (rust-analyzer)
- Go (gopls)

---

### 6.2 lsp_goto_definition - è·³è½¬åˆ°å®šä¹‰

**åŠŸèƒ½**: è·³è½¬åˆ°ç¬¦å·å®šä¹‰ä½ç½®

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `line` (integer, å¿…éœ€): è¡Œå·ï¼ˆä»1å¼€å§‹ï¼‰
- `character` (integer, å¿…éœ€): åˆ—å·ï¼ˆä»0å¼€å§‹ï¼‰

**è¿”å›**: å®šä¹‰ä½ç½®åˆ—è¡¨ï¼ˆæ–‡ä»¶è·¯å¾„:è¡Œå·:åˆ—å·ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥æ‰¾å‡½æ•°å®šä¹‰
- æŸ¥æ‰¾ç±»å®šä¹‰
- æŸ¥æ‰¾å˜é‡å£°æ˜

**ç¤ºä¾‹**:
```python
lsp_goto_definition(file_path="src/main.py", line=10, character=5)
```

**è¿”å›ç¤ºä¾‹**:
```
src/utils.py:25:0
```

---

### 6.3 lsp_find_references - æŸ¥æ‰¾å¼•ç”¨

**åŠŸèƒ½**: æŸ¥æ‰¾ç¬¦å·çš„æ‰€æœ‰å¼•ç”¨ä½ç½®

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `line` (integer, å¿…éœ€): è¡Œå·ï¼ˆä»1å¼€å§‹ï¼‰
- `character` (integer, å¿…éœ€): åˆ—å·ï¼ˆä»0å¼€å§‹ï¼‰
- `include_declaration` (boolean, å¯é€‰): æ˜¯å¦åŒ…å«å£°æ˜æœ¬èº«ï¼Œé»˜è®¤ true

**è¿”å›**: å¼•ç”¨ä½ç½®åˆ—è¡¨ï¼ˆæœ€å¤š50ä¸ªï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥æ‰¾å‡½æ•°è°ƒç”¨
- æŸ¥æ‰¾å˜é‡ä½¿ç”¨
- é‡æ„å‰çš„å½±å“åˆ†æ

**ç¤ºä¾‹**:
```python
lsp_find_references(file_path="src/main.py", line=10, character=5)
```

**è¿”å›ç¤ºä¾‹**:
```
Found 15 references:
src/main.py:10:5
src/utils.py:25:10
tests/test_main.py:30:15
...
```

---

### 6.4 lsp_symbols - è·å–ç¬¦å·åˆ—è¡¨

**åŠŸèƒ½**: è·å–æ–‡ä»¶æˆ–å·¥ä½œåŒºçš„ç¬¦å·åˆ—è¡¨

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„ï¼ˆç”¨äºLSPä¸Šä¸‹æ–‡ï¼‰
- `scope` (string, å¯é€‰): èŒƒå›´ï¼ˆdocument/workspaceï¼‰ï¼Œé»˜è®¤ "document"
- `query` (string, å¯é€‰): ç¬¦å·åç§°æœç´¢ï¼ˆworkspaceèŒƒå›´å¿…éœ€ï¼‰
- `limit` (integer, å¯é€‰): æœ€å¤§ç»“æœæ•°ï¼Œé»˜è®¤ 50

**è¿”å›**: ç¬¦å·åˆ—è¡¨ï¼ˆåç§°ã€ç±»å‹ã€ä½ç½®ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æµè§ˆæ–‡ä»¶ç»“æ„
- æœç´¢ç‰¹å®šç¬¦å·
- ç”Ÿæˆå¤§çº²

**ç¤ºä¾‹**:
```python
lsp_symbols(file_path="src/main.py", scope="document")
lsp_symbols(file_path="src/main.py", scope="workspace", query="Config")
```

**è¿”å›ç¤ºä¾‹**:
```
Found 10 symbols:
main (kind: 12, line: 10)
Config (kind: 5, line: 20)
process_data (kind: 12, line: 30)
...
```

---

### 6.5 lsp_rename - é‡å‘½åç¬¦å·

**åŠŸèƒ½**: é‡å‘½åç¬¦å·ï¼ˆè·¨æ•´ä¸ªå·¥ä½œåŒºï¼‰

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `line` (integer, å¿…éœ€): è¡Œå·ï¼ˆä»1å¼€å§‹ï¼‰
- `character` (integer, å¿…éœ€): åˆ—å·ï¼ˆä»0å¼€å§‹ï¼‰
- `new_name` (string, å¿…éœ€): æ–°åç§°

**è¿”å›**: é‡å‘½åç»“æœï¼ˆå½±å“çš„æ–‡ä»¶æ•°ã€ç¼–è¾‘æ•°ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- å®‰å…¨é‡å‘½åå‡½æ•°
- é‡å‘½åç±»
- é‡å‘½åå˜é‡

**ç¤ºä¾‹**:
```python
lsp_rename(file_path="src/main.py", line=10, character=5, new_name="new_function")
```

**è¿”å›ç¤ºä¾‹**:
```
Rename successful:
- Files changed: 5
- Total edits: 12
- New name: new_function

Files:
  - src/main.py
  - src/utils.py
  - tests/test_main.py
```

**æ³¨æ„äº‹é¡¹**:
- ä¼šè‡ªåŠ¨åº”ç”¨æ›´æ”¹åˆ°æ‰€æœ‰æ–‡ä»¶
- æ“ä½œä¸å¯é€†ï¼Œå»ºè®®å…ˆæäº¤Git

---

### 6.6 lsp_code_actions - è·å–ä»£ç æ“ä½œ

**åŠŸèƒ½**: è·å–å¯ç”¨çš„ä»£ç æ“ä½œï¼ˆå¿«é€Ÿä¿®å¤ã€é‡æ„ï¼‰

**å‚æ•°**:
- `file_path` (string, å¿…éœ€): æ–‡ä»¶è·¯å¾„
- `line` (integer, å¿…éœ€): è¡Œå·ï¼ˆä»1å¼€å§‹ï¼‰
- `character` (integer, å¿…éœ€): åˆ—å·ï¼ˆä»0å¼€å§‹ï¼‰

**è¿”å›**: å¯ç”¨çš„ä»£ç æ“ä½œåˆ—è¡¨

**ä½¿ç”¨åœºæ™¯**:
- è·å–å¿«é€Ÿä¿®å¤å»ºè®®
- æŸ¥çœ‹é‡æ„é€‰é¡¹
- è‡ªåŠ¨å¯¼å…¥ç¼ºå¤±çš„æ¨¡å—

**ç¤ºä¾‹**:
```python
lsp_code_actions(file_path="src/main.py", line=10, character=5)
```

**è¿”å›ç¤ºä¾‹**:
```
Found 3 code actions:
1. [quickfix] Add import 'os'
2. [refactor.extract] Extract to function
3. [source.organizeImports] Organize imports
```

---

## 7. ASTå·¥å…·

### 7.1 ast_grep_search - ASTçº§åˆ«æœç´¢

**åŠŸèƒ½**: ä½¿ç”¨ASTæ¨¡å¼åŒ¹é…æœç´¢ä»£ç ï¼ˆæ”¯æŒ25ç§è¯­è¨€ï¼‰

**å‚æ•°**:
- `pattern` (string, å¿…éœ€): ASTæ¨¡å¼ï¼ˆæ”¯æŒå…ƒå˜é‡ $VAR, $ï¼‰
- `lang` (string, å¿…éœ€): ç›®æ ‡è¯­è¨€ï¼ˆbash/c/cpp/csharp/css/elixir/go/haskell/html/java/javascript/json/kotlin/lua/nix/php/python/ruby/rust/scala/solidity/swift/typescript/tsx/yamlï¼‰
- `paths` (array, å¯é€‰): æœç´¢è·¯å¾„ï¼Œé»˜è®¤ ["."]
- `globs` (array, å¯é€‰): åŒ…å«/æ’é™¤æ¨¡å¼ï¼ˆå‰ç¼€!è¡¨ç¤ºæ’é™¤ï¼‰
- `context` (integer, å¯é€‰): ä¸Šä¸‹æ–‡è¡Œæ•°ï¼Œé»˜è®¤ 0

**è¿”å›**: åŒ¹é…ç»“æœåˆ—è¡¨ï¼ˆæ–‡ä»¶è·¯å¾„ã€è¡Œå·ã€åŒ¹é…å†…å®¹ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æŸ¥æ‰¾ç‰¹å®šä»£ç æ¨¡å¼
- æœç´¢å‡½æ•°è°ƒç”¨
- æŸ¥æ‰¾ç±»å®šä¹‰

**å…ƒå˜é‡è¯´æ˜**:
- `$VAR` - åŒ¹é…å•ä¸ªèŠ‚ç‚¹
- `$` - åŒ¹é…å¤šä¸ªèŠ‚ç‚¹

**ç¤ºä¾‹**:
```python
# æœç´¢æ‰€æœ‰console.log
ast_grep_search(pattern="console.log($MSG)", lang="javascript")

# æœç´¢æ‰€æœ‰å‡½æ•°å®šä¹‰
ast_grep_search(pattern="def $FUNC($):", lang="python")

# æœç´¢æ‰€æœ‰asyncå‡½æ•°
ast_grep_search(pattern="async function $NAME($) { $ }", lang="javascript")
```

**è¿”å›ç¤ºä¾‹**:
```
Found 5 match(es):

src/main.js:10:5
  console.log("Hello World")

src/utils.js:25:10
  console.log(result)
```

**æ³¨æ„äº‹é¡¹**:
- æ¨¡å¼å¿…é¡»æ˜¯å®Œæ•´çš„ASTèŠ‚ç‚¹ï¼ˆæœ‰æ•ˆä»£ç ï¼‰
- å¯¹äºå‡½æ•°ï¼Œéœ€è¦åŒ…å«å‚æ•°å’Œå‡½æ•°ä½“
- æ”¯æŒ25ç§è¯­è¨€

---

### 7.2 ast_grep_replace - ASTçº§åˆ«æ›¿æ¢

**åŠŸèƒ½**: ä½¿ç”¨ASTæ¨¡å¼åŒ¹é…å’Œæ›¿æ¢ä»£ç 

**å‚æ•°**:
- `pattern` (string, å¿…éœ€): ASTæ¨¡å¼
- `rewrite` (string, å¿…éœ€): æ›¿æ¢æ¨¡å¼ï¼ˆå¯ä»¥ä½¿ç”¨$VARå¼•ç”¨patternä¸­çš„å…ƒå˜é‡ï¼‰
- `lang` (string, å¿…éœ€): ç›®æ ‡è¯­è¨€
- `paths` (array, å¯é€‰): æœç´¢è·¯å¾„ï¼Œé»˜è®¤ ["."]
- `globs` (array, å¯é€‰): åŒ…å«/æ’é™¤æ¨¡å¼
- `dry_run` (boolean, å¯é€‰): æ˜¯å¦é¢„è§ˆï¼ˆä¸å®é™…ä¿®æ”¹ï¼‰ï¼Œé»˜è®¤ true

**è¿”å›**: æ›¿æ¢ç»“æœï¼ˆé¢„è§ˆæˆ–å®é™…ä¿®æ”¹ï¼‰

**ä½¿ç”¨åœºæ™¯**:
- æ‰¹é‡é‡æ„ä»£ç 
- æ›¿æ¢APIè°ƒç”¨
- ç»Ÿä¸€ä»£ç é£æ ¼

**ç¤ºä¾‹**:
```python
# é¢„è§ˆï¼šå°†console.logæ›¿æ¢ä¸ºlogger.info
ast_grep_replace(
    pattern="console.log($MSG)",
    rewrite="logger.info($MSG)",
    lang="javascript",
    dry_run=true
)

# å®é™…æ›¿æ¢
ast_grep_replace(
    pattern="console.log($MSG)",
    rewrite="logger.info($MSG)",
    lang="javascript",
    dry_run=false
)
```

**è¿”å›ç¤ºä¾‹**:
```
[DRY RUN] 5 replacement(s):

src/main.js:10:5
  logger.info("Hello World")

src/utils.js:25:10
  logger.info(result)

Use dry_run=false to apply changes
```

**æ³¨æ„äº‹é¡¹**:
- é»˜è®¤æ˜¯é¢„è§ˆæ¨¡å¼ï¼ˆdry_run=trueï¼‰
- å®é™…æ›¿æ¢å‰å»ºè®®å…ˆé¢„è§ˆ
- æ›¿æ¢åå»ºè®®è¿è¡Œæµ‹è¯•

---

## 8. ä»£ç åœ°å›¾å·¥å…·

### 8.1 repo_map - ç”Ÿæˆä»£ç åœ°å›¾

**åŠŸèƒ½**: ç”Ÿæˆä»£ç ä»“åº“åœ°å›¾ï¼Œæ™ºèƒ½æ’åºæœ€ç›¸å…³çš„ä»£ç å®šä¹‰

**å‚æ•°**:
- `repo_path` (string, å¿…éœ€): ä»“åº“æ ¹ç›®å½•è·¯å¾„
- `chat_files` (array, å¯é€‰): å¯¹è¯ä¸­æåˆ°çš„æ–‡ä»¶åˆ—è¡¨ï¼ˆæƒé‡Ã—50ï¼‰
- `mentioned_idents` (array, å¯é€‰): å¯¹è¯ä¸­æåˆ°çš„æ ‡è¯†ç¬¦åˆ—è¡¨ï¼ˆæƒé‡Ã—10ï¼‰
- `max_tokens` (integer, å¯é€‰): æœ€å¤§tokenæ•°é‡ï¼Œé»˜è®¤ 3000
- `auto_scale` (boolean, å¯é€‰): æ˜¯å¦è‡ªåŠ¨è°ƒæ•´tokené¢„ç®—ï¼Œé»˜è®¤ true

**è¿”å›**: æ™ºèƒ½æ’åºçš„ä»£ç åœ°å›¾

**æ ¸å¿ƒç®—æ³•**:
1. **Tree-sitterè§£æ** - æå–å‡½æ•°ã€ç±»å®šä¹‰å’Œå¼•ç”¨å…³ç³»
2. **PageRankæ’åº** - åŸºäºå¼•ç”¨å…³ç³»è®¡ç®—é‡è¦æ€§
3. **ä¸ªæ€§åŒ–æƒé‡** - å¯¹è¯æ–‡ä»¶Ã—50ï¼Œæåˆ°çš„æ ‡è¯†ç¬¦Ã—10
4. **ç¼“å­˜æœºåˆ¶** - SQLiteç¼“å­˜ï¼Œé¿å…é‡å¤è§£æ
5. **Tokené¢„ç®—æ§åˆ¶** - æ™ºèƒ½æˆªæ–­ï¼Œä¿æŒåœ¨é¢„ç®—å†…

**ä½¿ç”¨åœºæ™¯**:
- å¿«é€Ÿäº†è§£é¡¹ç›®ç»“æ„
- æŸ¥æ‰¾ç›¸å…³ä»£ç 
- ç†è§£ä»£ç ä¾èµ–å…³ç³»

**ç¤ºä¾‹**:
```python
# åŸºç¡€ç”¨æ³•
repo_map(repo_path=".")

# å¸¦ä¸Šä¸‹æ–‡çš„æ™ºèƒ½æ’åº
repo_map(
    repo_path=".",
    chat_files=["src/main.py", "src/utils.py"],
    mentioned_idents=["Config", "process_data"]
)

# æ‰©å¤§tokené¢„ç®—
repo_map(repo_path=".", max_tokens=6000)
```

**è¿”å›ç¤ºä¾‹**:
```
# ä»£ç åœ°å›¾ (Top 10 æ–‡ä»¶)

src/main.py:
  function main (line 10)
  class Config (line 20)
  function process_data (line 30)

src/utils.py:
  function helper (line 5)
  class DataProcessor (line 15)

tests/test_main.py:
  function test_main (line 10)
  function test_config (line 20)
```

**æ™ºèƒ½è°ƒæ•´**:
- å¦‚æœ `chat_files` ä¸ºç©ºï¼Œè‡ªåŠ¨æ‰©å¤§tokené¢„ç®—åˆ°6000ï¼ˆæä¾›æ›´å…¨é¢çš„é¡¹ç›®è§†å›¾ï¼‰
- å¦‚æœæœ‰ `chat_files`ï¼Œä½¿ç”¨æ ‡å‡†é¢„ç®—3000ï¼ˆèšç„¦ç›¸å…³ä»£ç ï¼‰

**æ³¨æ„äº‹é¡¹**:
- é¦–æ¬¡è¿è¡Œä¼šè¾ƒæ…¢ï¼ˆéœ€è¦è§£ææ‰€æœ‰æ–‡ä»¶ï¼‰
- åç»­è¿è¡Œä¼šä½¿ç”¨ç¼“å­˜ï¼ˆå¿«é€Ÿï¼‰
- æ”¯æŒçš„è¯­è¨€ï¼šPythonã€JavaScriptã€TypeScriptã€Javaã€Goã€Rust

---

### 8.2 get_repo_structure - è·å–ä»“åº“ç»“æ„

**åŠŸèƒ½**: è·å–ä»“åº“ç›®å½•ç»“æ„ï¼ˆç®€åŒ–ç‰ˆRepoMapï¼‰

**å‚æ•°**:
- `repo_path` (string, å¿…éœ€): ä»“åº“æ ¹ç›®å½•è·¯å¾„
- `max_depth` (integer, å¯é€‰): æœ€å¤§æ·±åº¦ï¼Œé»˜è®¤ 3
- `show_files` (boolean, å¯é€‰): æ˜¯å¦æ˜¾ç¤ºæ–‡ä»¶ï¼Œé»˜è®¤ true
- `annotate` (boolean, å¯é€‰): æ˜¯å¦æ·»åŠ æ™ºèƒ½æ³¨é‡Šï¼Œé»˜è®¤ true

**è¿”å›**: ç›®å½•æ ‘ç»“æ„

**ä½¿ç”¨åœºæ™¯**:
- å¿«é€Ÿæµè§ˆé¡¹ç›®ç»“æ„
- äº†è§£ç›®å½•ç»„ç»‡
- æŸ¥æ‰¾ç‰¹å®šç›®å½•

**ç¤ºä¾‹**:
```python
# åŸºç¡€ç”¨æ³•
get_repo_structure(repo_path=".")

# åªæ˜¾ç¤ºç›®å½•
get_repo_structure(repo_path=".", show_files=false)

# æ›´æ·±çš„å±‚çº§
get_repo_structure(repo_path=".", max_depth=5)
```

**è¿”å›ç¤ºä¾‹**:
```
daoyoucode/
â”œâ”€â”€ backend/  # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ daoyoucode/
â”‚   â”‚   â”œâ”€â”€ agents/  # Agentç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ tools/  # å·¥å…·æ¨¡å—
â”‚   â”‚   â””â”€â”€ llm/  # LLMå®¢æˆ·ç«¯
â”‚   â””â”€â”€ cli/  # å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ frontend/  # å‰ç«¯ä»£ç 
â”‚   â””â”€â”€ packages/
â””â”€â”€ docs/  # æ–‡æ¡£
```

**æ™ºèƒ½æ³¨é‡Š**:
- è‡ªåŠ¨è¯†åˆ«å¸¸è§ç›®å½•ï¼ˆbackendã€frontendã€srcã€testsç­‰ï¼‰
- æ·»åŠ ä¸­æ–‡æ³¨é‡Šå¸®åŠ©ç†è§£
- æ”¯æŒ40+å¸¸è§ç›®å½•æ¨¡å¼

---

## 9. é¡¹ç›®æ–‡æ¡£å·¥å…·

### 9.1 discover_project_docs - å‘ç°é¡¹ç›®æ–‡æ¡£

**åŠŸèƒ½**: è‡ªåŠ¨å‘ç°å¹¶è¯»å–é¡¹ç›®æ–‡æ¡£ï¼ˆREADMEã€æ¶æ„æ–‡æ¡£ã€åŒ…ä¿¡æ¯ç­‰ï¼‰

**å‚æ•°**:
- `repo_path` (string, å¿…éœ€): ä»“åº“æ ¹ç›®å½•è·¯å¾„
- `include_changelog` (boolean, å¯é€‰): æ˜¯å¦åŒ…å«CHANGELOGï¼Œé»˜è®¤ false
- `max_doc_length` (integer, å¯é€‰): å•ä¸ªæ–‡æ¡£æœ€å¤§é•¿åº¦ï¼ˆå­—ç¬¦æ•°ï¼‰ï¼Œé»˜è®¤ 5000

**è¿”å›**: é¡¹ç›®æ–‡æ¡£å†…å®¹ï¼ˆæ ¼å¼åŒ–ï¼‰

**è‡ªåŠ¨å‘ç°çš„æ–‡æ¡£**:
1. **README** - README.mdã€README.rstã€README.txtç­‰
2. **æ¶æ„æ–‡æ¡£** - ARCHITECTURE.mdã€DESIGN.mdã€STRUCTURE.mdç­‰
3. **CHANGELOG** - CHANGELOG.mdã€HISTORY.mdã€RELEASES.mdç­‰ï¼ˆå¯é€‰ï¼‰
4. **åŒ…ä¿¡æ¯** - package.jsonã€pyproject.tomlã€setup.pyã€Cargo.tomlã€go.modç­‰

**ä½¿ç”¨åœºæ™¯**:
- å¿«é€Ÿäº†è§£é¡¹ç›®
- ç†è§£é¡¹ç›®æ¶æ„
- æŸ¥çœ‹é¡¹ç›®ä¾èµ–

**ç¤ºä¾‹**:
```python
# åŸºç¡€ç”¨æ³•
discover_project_docs(repo_path=".")

# åŒ…å«CHANGELOG
discover_project_docs(repo_path=".", include_changelog=true)

# é™åˆ¶æ–‡æ¡£é•¿åº¦
discover_project_docs(repo_path=".", max_doc_length=3000)
```

**è¿”å›ç¤ºä¾‹**:
```
# é¡¹ç›®æ–‡æ¡£

## README
æ–‡ä»¶: README.md

**é¡¹ç›®åç§°**: DaoyouCode
**æè¿°**: æ–°ä¸€ä»£AIç¼–ç¨‹åŠ©æ‰‹ï¼Œèåˆå¤šæ™ºèƒ½ä½“åä½œã€LSPé‡æ„å·¥å…·ã€ä¸­æ–‡æ·±åº¦ä¼˜åŒ–

**æ ¸å¿ƒç‰¹æ€§**:
1. ä¸­æ–‡ä¼˜å…ˆ - åŸç”Ÿä¸­æ–‡æ”¯æŒ
2. å¤šæ™ºèƒ½ä½“åä½œ - 8ä¸ªä¸“ä¸šæ™ºèƒ½ä½“
3. å®Œæ•´å·¥å…·é“¾ - LSPé‡æ„ã€ASTæœç´¢ã€Gité›†æˆ

**å®Œæ•´å†…å®¹**:
[READMEå®Œæ•´å†…å®¹...]

------------------------------------------------------------

## PACKAGE_INFO
æ–‡ä»¶: package.json

åç§°: daoyoucode
ç‰ˆæœ¬: 0.1.0
æè¿°: AI-powered coding assistant
ä¾èµ–: typescript, react, express, ...
è„šæœ¬: dev, build, test, lint

------------------------------------------------------------
```

**æ™ºèƒ½æå–**:
- READMEè‡ªåŠ¨æå–æ ‡é¢˜ã€æè¿°ã€ç‰¹æ€§
- package.jsonæå–åç§°ã€ç‰ˆæœ¬ã€ä¾èµ–ã€è„šæœ¬
- pyproject.tomlæå–é¡¹ç›®å…ƒä¿¡æ¯
- è‡ªåŠ¨æˆªæ–­è¿‡é•¿çš„æ–‡æ¡£

---

## ğŸ“Š å·¥å…·ä½¿ç”¨å»ºè®®

### æŒ‰ä½¿ç”¨é¢‘ç‡åˆ†ç±»

**é«˜é¢‘å·¥å…·** (æ¯å¤©ä½¿ç”¨):
- `read_file` - æŸ¥çœ‹ä»£ç 
- `write_file` - ä¿®æ”¹ä»£ç 
- `search_replace` - ç²¾ç¡®ç¼–è¾‘
- `text_search` - æœç´¢ä»£ç 
- `lsp_diagnostics` - æ£€æŸ¥é”™è¯¯
- `git_status` - æŸ¥çœ‹çŠ¶æ€

**ä¸­é¢‘å·¥å…·** (æ¯å‘¨ä½¿ç”¨):
- `list_files` - æµè§ˆç›®å½•
- `lsp_goto_definition` - è·³è½¬å®šä¹‰
- `lsp_find_references` - æŸ¥æ‰¾å¼•ç”¨
- `repo_map` - ç†è§£é¡¹ç›®
- `run_test` - è¿è¡Œæµ‹è¯•

**ä½é¢‘å·¥å…·** (æŒ‰éœ€ä½¿ç”¨):
- `ast_grep_search` - å¤æ‚æœç´¢
- `ast_grep_replace` - æ‰¹é‡é‡æ„
- `lsp_rename` - é‡å‘½åç¬¦å·
- `discover_project_docs` - äº†è§£æ–°é¡¹ç›®
- `get_repo_structure` - æŸ¥çœ‹ç»“æ„

---

## ğŸ¯ å·¥å…·ç»„åˆæ¨¡å¼

### æ¨¡å¼1: ç†è§£æ–°é¡¹ç›®
```
1. discover_project_docs(repo_path=".")  # è¯»æ–‡æ¡£
2. get_repo_structure(repo_path=".")     # çœ‹ç»“æ„
3. repo_map(repo_path=".")               # ç”Ÿæˆåœ°å›¾
```

### æ¨¡å¼2: æŸ¥æ‰¾å’Œä¿®æ”¹ä»£ç 
```
1. text_search(query="function_name")    # æ‰¾åˆ°ä½ç½®
2. read_file(file_path="src/main.py")    # è¯»å–æ–‡ä»¶
3. search_replace(...)                   # ç²¾ç¡®ä¿®æ”¹
4. lsp_diagnostics(file_path="...")      # æ£€æŸ¥é”™è¯¯
```

### æ¨¡å¼3: é‡æ„ä»£ç 
```
1. lsp_find_references(...)              # æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨
2. lsp_rename(...)                       # é‡å‘½åç¬¦å·
3. run_test()                            # è¿è¡Œæµ‹è¯•
4. git_status()                          # æ£€æŸ¥æ›´æ”¹
```

### æ¨¡å¼4: æ‰¹é‡ä¿®æ”¹
```
1. ast_grep_search(pattern="...")        # æ‰¾åˆ°æ‰€æœ‰åŒ¹é…
2. ast_grep_replace(dry_run=true, ...)   # é¢„è§ˆæ›¿æ¢
3. ast_grep_replace(dry_run=false, ...)  # å®é™…æ›¿æ¢
4. run_test()                            # éªŒè¯æ›´æ”¹
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ€§èƒ½è€ƒè™‘
- `repo_map` é¦–æ¬¡è¿è¡Œè¾ƒæ…¢ï¼ˆéœ€è¦è§£ææ‰€æœ‰æ–‡ä»¶ï¼‰
- `lsp_*` å·¥å…·éœ€è¦å¯åŠ¨LSPæœåŠ¡å™¨ï¼ˆé¦–æ¬¡è¾ƒæ…¢ï¼‰
- `ast_grep_*` å·¥å…·éœ€è¦ä¸‹è½½ast-grepäºŒè¿›åˆ¶ï¼ˆé¦–æ¬¡ï¼‰

### å®‰å…¨è€ƒè™‘
- `write_file` ä¼šè¦†ç›–ç°æœ‰æ–‡ä»¶
- `delete_file` æ“ä½œä¸å¯é€†
- `search_replace` ä¼šç›´æ¥ä¿®æ”¹æ–‡ä»¶
- `lsp_rename` ä¼šä¿®æ”¹å¤šä¸ªæ–‡ä»¶
- `ast_grep_replace` ä¼šæ‰¹é‡ä¿®æ”¹æ–‡ä»¶

### æœ€ä½³å®è·µ
1. **ä¿®æ”¹å‰å…ˆè¯»å–** - ä½¿ç”¨ `read_file` ç¡®è®¤å†…å®¹
2. **ä¿®æ”¹åæ£€æŸ¥** - ä½¿ç”¨ `lsp_diagnostics` æ£€æŸ¥é”™è¯¯
3. **æµ‹è¯•éªŒè¯** - ä½¿ç”¨ `run_test` éªŒè¯æ›´æ”¹
4. **Gitç®¡ç†** - ä½¿ç”¨ `git_status` æŸ¥çœ‹æ›´æ”¹
5. **é¢„è§ˆæ¨¡å¼** - ASTæ›¿æ¢å…ˆç”¨ `dry_run=true`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Agentå¼€å‘æŒ‡å—](docs/AGENT_DEVELOPMENT.md)
- [Promptç¼–å†™æŒ‡å—](docs/PROMPT_GUIDE.md)
- [å·¥å…·å¼€å‘æŒ‡å—](docs/TOOL_DEVELOPMENT.md)

---

**æ›´æ–°æ—¥æœŸ**: 2025-02-17  
**ç‰ˆæœ¬**: 1.0.0  
**ç»´æŠ¤è€…**: DaoyouCode Team
