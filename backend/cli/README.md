# DaoyouCode CLI

**ç²¾ç®€è€Œå¼ºå¤§çš„å‘½ä»¤è¡Œç•Œé¢**

## ğŸ¯ è®¾è®¡åŸåˆ™

- âœ… **ç²¾è€Œè¶…è¶Š** - åªä¿ç•™æœ€å®ç”¨çš„åŠŸèƒ½
- âœ… **ç®€å•æ˜“ç”¨** - å‘½ä»¤å°‘è€Œç²¾
- âœ… **å¼ºå¤§åç«¯** - åŸºäº18å¤§æ ¸å¿ƒç³»ç»Ÿ
- âŒ **ä¸è¦å¤æ‚** - å»æ‰ä¸å¿…è¦çš„èŠ±å“¨åŠŸèƒ½

## ğŸ“¦ å®‰è£…

```bash
# å¼€å‘æ¨¡å¼
cd backend
pip install -e .

# æˆ–ç›´æ¥è¿è¡Œ
python -m backend.cli
```

## ğŸš€ æ ¸å¿ƒå‘½ä»¤ï¼ˆ10ä¸ªï¼‰

### 1. äº¤äº’å¼å¯¹è¯ â­â­â­â­â­

```bash
# å¯åŠ¨äº¤äº’å¼å¯¹è¯
daoyoucode chat

# åŠ è½½æ–‡ä»¶åå¯¹è¯
daoyoucode chat main.py utils.py

# æŒ‡å®šæ¨¡å‹
daoyoucode chat --model deepseek-coder
```

### 2. å•æ¬¡ç¼–è¾‘ â­â­â­â­â­

```bash
# ç¼–è¾‘å•ä¸ªæ–‡ä»¶
daoyoucode edit main.py "æ·»åŠ æ—¥å¿—åŠŸèƒ½"

# ç¼–è¾‘å¤šä¸ªæ–‡ä»¶
daoyoucode edit app.py utils.py "é‡æ„é”™è¯¯å¤„ç†"

# è‡ªåŠ¨ç¡®è®¤
daoyoucode edit main.py "ä¼˜åŒ–æ€§èƒ½" --yes
```

### 3. ç¯å¢ƒè¯Šæ–­ â­â­â­â­

```bash
# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
daoyoucode doctor

# è‡ªåŠ¨ä¿®å¤é—®é¢˜
daoyoucode doctor --fix
```

### 4. é…ç½®ç®¡ç† â­â­â­â­

```bash
# æŸ¥çœ‹é…ç½®
daoyoucode config show

# è®¾ç½®é…ç½®
daoyoucode config set model qwen-max

# é‡ç½®é…ç½®
daoyoucode config reset
```

### 5. ä¼šè¯ç®¡ç† â­â­â­

```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
daoyoucode session list

# æŸ¥çœ‹ä¼šè¯è¯¦æƒ…
daoyoucode session show sess-001

# åˆ é™¤ä¼šè¯
daoyoucode session delete sess-001
```

### 6. Agentç®¡ç† â­â­â­

```bash
# åˆ—å‡ºæ‰€æœ‰Agent
daoyoucode agent
```

### 7. æ¨¡å‹ç®¡ç† â­â­

```bash
# åˆ—å‡ºå¯ç”¨æ¨¡å‹
daoyoucode models
```

### 8. å¯åŠ¨æœåŠ¡å™¨ â­â­

```bash
# å¯åŠ¨HTTPæœåŠ¡å™¨
daoyoucode serve

# æŒ‡å®šç«¯å£
daoyoucode serve --port 3000
```

### 9. ç‰ˆæœ¬ä¿¡æ¯ â­

```bash
# æŸ¥çœ‹ç‰ˆæœ¬
daoyoucode version
```

### 10. å¸®åŠ© â­

```bash
# æŸ¥çœ‹å¸®åŠ©
daoyoucode --help
daoyoucode chat --help
```

## ğŸ—ï¸ æ¶æ„

```
backend/cli/
â”œâ”€â”€ __init__.py          # ç‰ˆæœ¬ä¿¡æ¯
â”œâ”€â”€ __main__.py          # å…¥å£
â”œâ”€â”€ app.py               # Typerä¸»åº”ç”¨
â”‚
â”œâ”€â”€ commands/            # 8ä¸ªæ ¸å¿ƒå‘½ä»¤
â”‚   â”œâ”€â”€ chat.py         # äº¤äº’å¼å¯¹è¯
â”‚   â”œâ”€â”€ edit.py         # å•æ¬¡ç¼–è¾‘
â”‚   â”œâ”€â”€ doctor.py       # ç¯å¢ƒè¯Šæ–­
â”‚   â”œâ”€â”€ config.py       # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ session.py      # ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ agent.py        # Agentç®¡ç†
â”‚   â”œâ”€â”€ models.py       # æ¨¡å‹ç®¡ç†
â”‚   â””â”€â”€ serve.py        # å¯åŠ¨æœåŠ¡å™¨
â”‚
â”œâ”€â”€ ui/                  # UIç»„ä»¶
â”‚   â”œâ”€â”€ console.py      # Rich Console
â”‚   â””â”€â”€ markdown.py     # Markdownæ¸²æŸ“
â”‚
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
    â””â”€â”€ logger.py       # ç®€å•æ—¥å¿—
```

## ğŸ¨ ç‰¹æ€§

### 1. ç²¾ç®€è®¾è®¡

åªä¿ç•™10ä¸ªæ ¸å¿ƒå‘½ä»¤ï¼Œå»æ‰ä¸å®ç”¨çš„ï¼š
- âŒ orchestrate - è‡ªåŠ¨ç¼–æ’ï¼Œä¸éœ€è¦æ‰‹åŠ¨
- âŒ memory - è‡ªåŠ¨ç®¡ç†
- âŒ verify - è‡ªåŠ¨éªŒè¯
- âŒ permission - è‡ªåŠ¨æ§åˆ¶
- âŒ analyze - é›†æˆåˆ°chat
- âŒ export/import - ä½é¢‘éœ€æ±‚
- âŒ stats - ä½é¢‘éœ€æ±‚
- âŒ debug - å¼€å‘è€…å·¥å…·

### 2. å¼ºå¤§åç«¯

åŸºäºDaoyouCodeçš„18å¤§æ ¸å¿ƒç³»ç»Ÿï¼š
- Memoryã€Taskã€Routerã€Context
- Plannerã€Feedbackã€Hookã€Permission
- ReActã€Verificationç­‰

### 3. ç®€å•æ˜“ç”¨

- æ¸…æ™°çš„å‘½ä»¤ç»“æ„
- å‹å¥½çš„é”™è¯¯æç¤º
- ç¾è§‚çš„è¾“å‡ºæ ¼å¼
- å®Œæ•´çš„å¸®åŠ©æ–‡æ¡£

## ğŸ”§ å¼€å‘

### è¿è¡Œæµ‹è¯•

```bash
# æµ‹è¯•æ‰€æœ‰å‘½ä»¤
python backend/cli/test_cli.py

# æµ‹è¯•å•ä¸ªå‘½ä»¤
python -m backend.cli chat --help
```

### æ·»åŠ æ–°å‘½ä»¤

1. åœ¨`commands/`åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç°å‘½ä»¤å‡½æ•°
3. åœ¨`app.py`æ³¨å†Œå‘½ä»¤

## ğŸ“ TODO

- [ ] é›†æˆåç«¯Agentç³»ç»Ÿ
- [ ] å®ç°æµå¼è¾“å‡º
- [ ] æ·»åŠ Shellè¡¥å…¨
- [ ] å®Œå–„é”™è¯¯å¤„ç†
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

## ğŸ‰ ä¼˜åŠ¿

ç›¸æ¯”å…¶ä»–é¡¹ç›®ï¼š

| ç‰¹æ€§ | DaoyouCode | daoyouCodePilot | oh-my-opencode | opencode |
|------|-----------|----------------|----------------|----------|
| **å‘½ä»¤æ•°é‡** | 10ä¸ªç²¾ç®€ | 5ä¸ªåŸºç¡€ | 10ä¸ª | 20+å¤æ‚ |
| **åç«¯ç³»ç»Ÿ** | 18å¤§ç³»ç»Ÿ | åŸºç¡€ç³»ç»Ÿ | éƒ¨åˆ†ç³»ç»Ÿ | åŸºç¡€ç³»ç»Ÿ |
| **Agentæ•°é‡** | 6ä¸ªä¸“ä¸š | æ—  | 8ä¸ª | 2ä¸ªåŸºç¡€ |
| **å·¥å…·æ•°é‡** | 25ä¸ª | æœ‰é™ | æœ‰é™ | æœ‰é™ |
| **æƒé™æ§åˆ¶** | 100+è§„åˆ™ | æ—  | å·¥å…·ç™½åå• | åŸºç¡€æƒé™ |
| **éªŒè¯æœºåˆ¶** | 4çº§éªŒè¯ | æ—  | æ—  | æ—  |

**ç²¾è€Œè¶…è¶Šï¼Œä¸åœ¨å¤æ‚åº¦ä¸Šè¶…è¶Šï¼**
