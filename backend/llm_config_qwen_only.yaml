# LLMæ¨¡å—é…ç½® - ä»…é€šä¹‰åƒé—®
# æœ€ç®€åŒ–é…ç½®ï¼Œåªä½¿ç”¨é€šä¹‰åƒé—®ç³»åˆ—æ¨¡å‹

# æä¾›å•†é…ç½®
providers:
  # é€šä¹‰åƒé—®ï¼ˆé˜¿é‡Œäº‘ï¼‰
  qwen:
    api_key: "sk-d2971f2015574377bdf97046b1a03b87"  # ğŸ‘ˆ å¡«å…¥ä½ çš„é€šä¹‰åƒé—®APIå¯†é’¥
    base_url: "https://dashscope.aliyuncs.com/compatible-mode/v1"
    models:
      - qwen-max      # æœ€å¼ºå¤§ï¼Œé€‚åˆå¤æ‚ä»»åŠ¡
      - qwen-plus     # æ€§ä»·æ¯”é«˜ï¼Œé€‚åˆé€šç”¨ä»»åŠ¡
      - qwen-turbo    # æœ€ä¾¿å®œï¼Œé€‚åˆç®€å•ä»»åŠ¡

# é»˜è®¤é…ç½®
default:
  provider: qwen
  model: qwen-plus      # é»˜è®¤ä½¿ç”¨æ€§ä»·æ¯”é«˜çš„qwen-plus
  temperature: 0.7
  max_tokens: 2000

# é™çº§ç­–ç•¥ï¼ˆå¯é€‰ï¼Œå»ºè®®é…ç½®ï¼‰
fallback:
  chains:
    qwen-max:
      - qwen-plus     # qwen-maxå¤±è´¥æ—¶é™çº§åˆ°qwen-plus
      - qwen-turbo    # qwen-plusä¹Ÿå¤±è´¥æ—¶é™çº§åˆ°qwen-turbo
    qwen-plus:
      - qwen-turbo    # qwen-pluså¤±è´¥æ—¶é™çº§åˆ°qwen-turbo

# é™æµé…ç½®ï¼ˆå¯é€‰ï¼‰
rate_limit:
  # ç”¨æˆ·é™æµ
  user:
    capacity: 10        # æ¯ä¸ªç”¨æˆ·10ä¸ªä»¤ç‰Œ
    refill_rate: 1.0    # æ¯ç§’å¡«å……1ä¸ªä»¤ç‰Œ
  
  # å…¨å±€é™æµ
  global:
    capacity: 100       # å…¨å±€100ä¸ªä»¤ç‰Œ
    refill_rate: 10.0   # æ¯ç§’å¡«å……10ä¸ªä»¤ç‰Œ

# ç†”æ–­å™¨é…ç½®ï¼ˆå¯é€‰ï¼‰
circuit_breaker:
  failure_threshold: 5    # å¤±è´¥5æ¬¡åæ‰“å¼€ç†”æ–­å™¨
  timeout: 60            # 60ç§’åå°è¯•åŠå¼€
  success_threshold: 2   # æˆåŠŸ2æ¬¡åå…³é—­ç†”æ–­å™¨

# Skillç›®å½•ï¼ˆå¯é€‰ï¼‰
skills_dirs:
  - backend/daoyoucode/llm/skills/examples

# ä¸Šä¸‹æ–‡é…ç½®ï¼ˆå¯é€‰ï¼‰
context:
  max_history: 10        # æœ€å¤šä¿ç•™10è½®å¯¹è¯
  max_sessions: 1000     # æœ€å¤š1000ä¸ªä¼šè¯
  session_ttl: 3600      # ä¼šè¯è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰

# æ—¥å¿—é…ç½®ï¼ˆå¯é€‰ï¼‰
logging:
  level: INFO
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
