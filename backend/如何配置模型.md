# å¦‚ä½•é…ç½®æ¨¡å‹ - å¿«é€ŸæŒ‡å—

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

**åœ¨Skillé…ç½®æ–‡ä»¶ä¸­é…ç½®æ¨¡å‹ï¼Œè€Œä¸æ˜¯åœ¨Agentä»£ç ä¸­ã€‚**

## ğŸ“ æ­¥éª¤

### 1. æ£€æŸ¥å¯ç”¨æ¨¡å‹

æŸ¥çœ‹ `backend/config/llm_config.yaml`ï¼š

```yaml
providers:
  qwen:
    api_key: ${DASHSCOPE_API_KEY}
    models:
      - qwen-plus          # é€šç”¨æ¨¡å‹
      - qwen-max           # æœ€å¼ºæ¨¡å‹
      - qwen-coder-plus    # ä»£ç ä¸“ç”¨æ¨¡å‹
```

### 2. åœ¨Skillé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šæ¨¡å‹

ç¼–è¾‘ `skills/ä½ çš„skillåç§°/skill.yaml`ï¼š

```yaml
name: your-skill
agent: your_agent

# åœ¨è¿™é‡Œé…ç½®æ¨¡å‹ âœ…
llm:
  model: qwen-coder-plus  # é€‰æ‹©åˆé€‚çš„æ¨¡å‹
  temperature: 0.3
  max_tokens: 4000
```

### 3. ï¼ˆå¯é€‰ï¼‰æ›´æ–°Agenté»˜è®¤æ¨¡å‹

ç¼–è¾‘ `backend/daoyoucode/agents/builtin/your_agent.py`ï¼š

```python
class YourAgent(BaseAgent):
    def __init__(self):
        config = AgentConfig(
            name="your_agent",
            description="ä½ çš„Agentæè¿°",
            model="qwen-plus",  # è®¾ç½®åˆç†çš„é»˜è®¤å€¼ï¼ˆä½œä¸ºfallbackï¼‰
            temperature=0.7,
            system_prompt=""
        )
        super().__init__(config)
```

## ğŸ” å¸¸è§åœºæ™¯

### åœºæ™¯1: ä¿®æ”¹ç°æœ‰Skillä½¿ç”¨çš„æ¨¡å‹

åªéœ€ä¿®æ”¹Skillé…ç½®æ–‡ä»¶ï¼š

```bash
# ç¼–è¾‘
vim skills/testing/skill.yaml

# ä¿®æ”¹llm.modelå­—æ®µ
llm:
  model: qwen-max  # ä» qwen-coder-plus æ”¹ä¸º qwen-max
```

### åœºæ™¯2: åˆ›å»ºæ–°Skill

å¤åˆ¶ç°æœ‰Skillé…ç½®ï¼Œä¿®æ”¹æ¨¡å‹ï¼š

```bash
cp -r skills/testing skills/my-testing
vim skills/my-testing/skill.yaml
```

```yaml
name: my-testing
agent: test_expert

llm:
  model: qwen-max  # ä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹
  temperature: 0.2
```

### åœºæ™¯3: åŒä¸€ä¸ªAgentåœ¨ä¸åŒSkillä¸­ä½¿ç”¨ä¸åŒæ¨¡å‹

å®Œå…¨æ”¯æŒï¼ä¾‹å¦‚ï¼š

**skills/testing/skill.yaml**:
```yaml
agent: test_expert
llm:
  model: qwen-coder-plus  # æ™®é€šæµ‹è¯•ç”¨ä»£ç æ¨¡å‹
```

**skills/advanced-testing/skill.yaml**:
```yaml
agent: test_expert
llm:
  model: qwen-max  # å¤æ‚æµ‹è¯•ç”¨æœ€å¼ºæ¨¡å‹
```

## âš ï¸ å¸¸è§é”™è¯¯

### é”™è¯¯1: ä½¿ç”¨æœªé…ç½®çš„æ¨¡å‹

```yaml
llm:
  model: deepseek-coder  # âŒ å¦‚æœæœªåœ¨llm_config.yamlä¸­é…ç½®
```

**é”™è¯¯ä¿¡æ¯**:
```
æœªé…ç½®æä¾›å•†: deepseek
```

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨å·²é…ç½®çš„æ¨¡å‹ï¼ˆqwen-plus, qwen-max, qwen-coder-plusï¼‰
2. æˆ–è€…åœ¨ `config/llm_config.yaml` ä¸­æ·»åŠ deepseeké…ç½®

### é”™è¯¯2: åœ¨Agentä»£ç ä¸­ç¡¬ç¼–ç ç‰¹å®šæ¨¡å‹

```python
# âŒ ä¸æ¨è
model="deepseek-coder",  # å¦‚æœæœªé…ç½®ä¼šå¯¼è‡´æ‰€æœ‰ä½¿ç”¨è¯¥Agentçš„Skilléƒ½å¤±è´¥
```

**è§£å†³æ–¹æ¡ˆ**:
```python
# âœ… æ¨è
model="qwen-plus",  # ä½¿ç”¨é€šç”¨çš„å·²é…ç½®æ¨¡å‹ä½œä¸ºé»˜è®¤å€¼
```

## ğŸ§ª éªŒè¯é…ç½®

è¿è¡Œæµ‹è¯•éªŒè¯é…ç½®æ­£ç¡®ï¼š

```bash
cd backend
python test_model_config.py
```

## ğŸ“Š é…ç½®ä¼˜å…ˆçº§

```
Skillé…ç½® (skill.yaml)
    â†“ ä¼˜å…ˆçº§æœ€é«˜
Agenté»˜è®¤ (agent.py)
    â†“ ä½œä¸ºfallback
ç³»ç»Ÿé»˜è®¤
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. âœ… **åœ¨Skillé…ç½®æ–‡ä»¶ä¸­æ˜ç¡®æŒ‡å®šæ¨¡å‹**
   - è®©é…ç½®æ¸…æ™°å¯è§
   - æ–¹ä¾¿ä¿®æ”¹å’Œç»´æŠ¤

2. âœ… **Agentä»£ç ä¸­ä½¿ç”¨é€šç”¨é»˜è®¤æ¨¡å‹**
   - ä½¿ç”¨ `qwen-plus` ä½œä¸ºé€šç”¨é»˜è®¤
   - ç¡®ä¿æ¨¡å‹å·²é…ç½®

3. âœ… **æ ¹æ®ä»»åŠ¡é€‰æ‹©åˆé€‚çš„æ¨¡å‹**
   - ä»£ç ä»»åŠ¡ï¼š`qwen-coder-plus`
   - å¤æ‚æ¨ç†ï¼š`qwen-max`
   - ä¸€èˆ¬å¯¹è¯ï¼š`qwen-plus`

4. âœ… **ä¿æŒé…ç½®ä¸€è‡´æ€§**
   - åŒç±»Skillä½¿ç”¨ç›¸åŒæ¨¡å‹
   - ä¾¿äºç®¡ç†å’Œä¼˜åŒ–æˆæœ¬

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¨¡å‹é…ç½®æ¶æ„è¯´æ˜.md](./æ¨¡å‹é…ç½®æ¶æ„è¯´æ˜.md) - è¯¦ç»†æ¶æ„è¯´æ˜
- [CLIå‘½ä»¤å‚è€ƒ.md](./CLIå‘½ä»¤å‚è€ƒ.md) - CLIä½¿ç”¨æŒ‡å—
- [AGENTSæ™ºèƒ½ä½“ä»‹ç».md](./AGENTSæ™ºèƒ½ä½“ä»‹ç».md) - Agentä»‹ç»

## ğŸ“ ç¤ºä¾‹

### å®Œæ•´ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªä½¿ç”¨ç‰¹å®šæ¨¡å‹çš„Skill

1. åˆ›å»ºSkillç›®å½•ï¼š
```bash
mkdir -p skills/my-skill/prompts
```

2. åˆ›å»ºé…ç½®æ–‡ä»¶ `skills/my-skill/skill.yaml`ï¼š
```yaml
name: my-skill
version: 1.0.0
description: æˆ‘çš„è‡ªå®šä¹‰Skill

orchestrator: simple
agent: programmer

prompt:
  file: prompts/my-prompt.md

llm:
  model: qwen-coder-plus  # âœ… æ˜ç¡®æŒ‡å®šæ¨¡å‹
  temperature: 0.2
  max_tokens: 4000

tools:
  - read_file
  - write_file

middleware:
  - context_management

permissions:
  read:
    - pattern: "*"
      permission: allow
  write:
    - pattern: "*"
      permission: ask
```

3. åˆ›å»ºPromptæ–‡ä»¶ `skills/my-skill/prompts/my-prompt.md`ï¼š
```markdown
ä½ æ˜¯ä¸€ä¸ªç¼–ç¨‹åŠ©æ‰‹ã€‚

ç”¨æˆ·è¾“å…¥ï¼š{{user_input}}
```

4. ä½¿ç”¨Skillï¼š
```bash
python backend/daoyoucode.py chat --skill my-skill
```

## âœ… æ£€æŸ¥æ¸…å•

é…ç½®æ¨¡å‹æ—¶ï¼Œç¡®ä¿ï¼š

- [ ] æ¨¡å‹åœ¨ `config/llm_config.yaml` ä¸­å·²é…ç½®
- [ ] Skillé…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº† `llm.model`
- [ ] Agentä»£ç ä¸­æœ‰åˆç†çš„é»˜è®¤æ¨¡å‹
- [ ] è¿è¡Œæµ‹è¯•éªŒè¯é…ç½®æ­£ç¡®
- [ ] æ–‡æ¡£æ›´æ–°ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

**è®°ä½**ï¼šæ¨¡å‹é…ç½®åœ¨Skillé…ç½®æ–‡ä»¶ä¸­ï¼ŒAgentä»£ç ä¸­çš„æ¨¡å‹åªæ˜¯é»˜è®¤å€¼ï¼
