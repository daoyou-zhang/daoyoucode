# DaoyouCode 核心能力对比评价

> 对比对象：opencode、oh-my-opencode、aider。基于当前代码与参考项目结构归纳，供产品与演进参考。

---

## 一、四者定位简述

| 项目 | 定位 | 技术栈 | 核心形态 |
|------|------|--------|----------|
| **aider** | 纯 CLI 代码编辑/对话助手 | Python，LiteLLM，git，grep_ast/tree-sitter | 单 Coder + 多种 edit 格式，repo_map 做代码地图 |
| **opencode** | 桌面/IDE 侧 AI 助手 | Tauri + Node 启动脚本，内置 opencode-cli 二进制 | 桌面应用 + CLI 侧车，server 配置（host/port） |
| **oh-my-opencode** | OpenCode 生态的配置/插件方案 | JSON Schema 配置 | 禁用/启用 agents、skills、hooks 的配置层，非独立运行时 |
| **DaoyouCode** | CLI 优先的智能编码与多 Agent 平台 | Python，Typer，Skill/Orchestrator/Agent 分层 | CLI → 编排器 → Agents → LLM，Skill 驱动，多编排多 Agent |

---

## 二、DaoyouCode 当前核心能力概览

- **CLI**：`chat` / `edit` / `doctor` / `config` / `session` / `agent` / `models` / `skills` / `serve` / `version` / `examples`；仓库路径推断参考 aider（文件/`--repo`/cwd）。
- **编排**：7 种编排器（simple、react、multi_agent、workflow、conditional、parallel、parallel_explore），ReAct 为主路径，多 Agent 支持顺序/并行/辩论/主从。
- **Agent**：多角色（MainAgent、programmer、sisyphus、oracle、librarian、refactor_master、test_expert 等），统一 BaseAgent（记忆、工具循环、用户画像、后处理）。
- **工具**：25+ 工具（文件、搜索、Git、命令、Diff、RepoMap、项目文档、LSP、AST 等），ToolContext（repo_path、subtree_only、cwd）贯穿。
- **记忆**：会话历史、摘要、追问检测、智能加载、用户偏好与画像、任务历史。
- **LLM**：统一客户端、多提供商、API Key 轮询、超时与恢复。
- **运维**：Hook、超时恢复、失败恢复、任务管理、DEBUG_LLM 等可配置。

---

## 三、与 Aider 对比（同赛道：CLI 代码助手）

| 维度 | Aider | DaoyouCode | 评价 |
|------|--------|------------|------|
| **编辑范式** | 多种 Coder（wholefile / editblock / udiff / patch 等），按 edit_format 切换 | 统一 ReAct + Function Calling（read_file / write_file / search_replace 等），按 Skill 选工具集 | DaoyouCode 更统一、可扩展；aider 在单文件/块级编辑上范式更细分 |
| **代码地图** | RepoMap：tree-sitter/grep_ast、tags 缓存、token 预算、refresh 策略 | RepoMap 类工具 + get_repo_structure + 项目文档发现 | 思路接近；aider 的 AST/TS 集成更重，DaoyouCode 工具更泛化 |
| **仓库/路径** | GitRepo、子目录（subtree）、从文件推断 repo | determine_repo_path + ToolContext(repo_path, subtree_only, cwd) | 已对齐思路，且 executor 侧已统一 ToolContext |
| **工具数量与形态** | 以 write_file / editblock 等少量“大工具”为主，run_cmd 跑 lint/test | 25+ 细粒度工具（文件/Git/搜索/LSP/AST/RepoMap） | DaoyouCode 工具更丰富、更易按 Skill 裁剪 |
| **多 Agent / 编排** | 无；单 Coder、单模型、单轮对话流 | 多 Agent + 多编排器 + Skill 配置 | DaoyouCode 明显更强，适合复杂任务与角色分工 |
| **记忆与上下文** | ChatSummary、历史消息 | 会话历史 + 摘要 + 追问检测 + 用户画像 + 智能加载 | DaoyouCode 记忆层次更全，更利于长对话与个性化 |
| **配置与扩展** | 模型/编辑格式/参数，无 Skill 概念 | Skill YAML（orchestrator、agent、tools、llm、middleware） | DaoyouCode 更易做场景化配置与扩展 |
| **成熟度与生态** | 久经使用、文档与社区成熟 | 较新，文档与最佳实践仍在积累 | Aider 更稳、更“开箱即用”；DaoyouCode 架构更现代、上限更高 |

**小结（vs Aider）**：在“CLI + 代码编辑 + 仓库感知”这条线上，DaoyouCode 在**架构（Skill/编排/多 Agent）、工具丰富度、记忆与可配置性**上占优；在**单轮编辑范式细分、AST/repomap 深度、生态成熟度**上 aider 仍可借鉴。整体是**同一赛道上的升级版架构**，需继续在编辑体验与稳定性上追齐。

---

## 四、与 OpenCode 对比（不同形态：桌面 vs CLI 平台）

| 维度 | OpenCode | DaoyouCode | 评价 |
|------|----------|------------|------|
| **形态** | 桌面应用 + 内置/侧车 CLI 二进制 | 纯 CLI（可配合 serve 做 HTTP） | 不同交付形态：OpenCode 偏 IDE/桌面，DaoyouCode 偏终端与 API |
| **核心能力** | 从仓库看以 Tauri/CLI 安装、server 配置为主，具体 Agent/工具未在本次范围内细看 | 完整的 Agent + 编排 + Skill + 工具 + 记忆 栈 | 若 OpenCode 的“大脑”在服务端，DaoyouCode 已具备一套可对接的“大脑”实现 |
| **可对比性** | 产品形态不同，直接比“能力点”意义有限 | 更适合作为“后端能力”与 OpenCode 桌面/CLI 对接 | 可把 DaoyouCode 视为 CLI/服务端能力层，OpenCode 视为前端/入口之一 |

**小结（vs OpenCode）**：OpenCode 偏**桌面/IDE 入口**，DaoyouCode 偏**CLI 与多 Agent 能力栈**；二者可互补（例如 OpenCode 调用 DaoyouCode 的 serve 或 Skill 接口），而非同一形态下的竞品对比。

---

## 五、与 Oh-My-OpenCode 对比（配置生态 vs 完整运行时）

| 维度 | Oh-My-OpenCode | DaoyouCode | 评价 |
|------|----------------|------------|------|
| **定位** | OpenCode 的配置/插件方案（agents、skills、hooks 的开关与配置） | 独立运行时：既有编排与 Agent，也有 Skill 配置 | Oh-My 是“配置层”，DaoyouCode 是“执行层 + 配置” |
| **Agent 丰富度** | Schema 中列出 Sisyphus、oracle、librarian、explore、multimodal-looker、Metis、Momus、atlas 等 | 当前有 MainAgent、programmer、sisyphus、oracle、librarian、refactor_master、test_expert 等 | 角色名与思路有重叠（sisyphus、oracle、librarian）；Oh-My 的列表更像“生态清单” |
| **Hooks** | 大量命名 hook（todo-continuation、context-window-monitor、session-recovery、edit-error-recovery 等） | 有 Hook 体系与 HookContext，具体 hook 名与 Oh-My 不完全一致 | DaoyouCode 具备扩展同类 hook 的能力，可按需对齐命名与行为 |
| **Skills** | 示例：playwright、frontend-ui-ux、git-master | 多 Skill（chat-assistant、edit-single、oracle、librarian、sisyphus-orchestrator 等） | 都是“按场景命名”的 Skill；DaoyouCode 已可自建同类技能 |

**小结（vs Oh-My-OpenCode）**：Oh-My-OpenCode 描述的是**“有哪些 agents/skills/hooks 可配置”**，DaoyouCode 是**真正跑起这些能力的运行时**。可以把 Oh-My 的 schema 当作**目标能力清单**：DaoyouCode 在部分角色与技能上已对齐，在 hooks 与更多技能上可按该清单继续补全与命名统一。

---

## 六、总体评价与建议

**当前核心能力（一句话）**  
DaoyouCode 已具备**不逊于 aider 的 CLI 代码助手能力**，并在**多 Agent、多编排、Skill 化配置、记忆与工具丰富度**上明显更强；与 opencode 是不同形态（桌面 vs CLI/后端），与 oh-my-opencode 是“运行时 vs 配置生态”的关系。

**相对优势**  
- 分层清晰：CLI → 编排器 → Agents → LLM，易维护、易扩展。  
- 多 Agent + 多编排：顺序/并行/辩论/主从，适合复杂任务。  
- Skill 驱动：YAML 配置 agent/orchestrator/tools/llm，场景化能力强。  
- 工具与记忆：25+ 工具、ToolContext、智能记忆与用户画像。  
- 已做部分优化：edit 走 Skill、会话级初始化、ToolContext 统一、multi_agent 传 llm_config、可配置规则与历史轮数、LLM 日志可控。

**可加强方向（对齐/借鉴）**  
- **Aider**：单轮编辑的稳定性和反馈（如 editblock/udiff 式细粒度编辑、lint/test 集成）；RepoMap 与 AST 的深度（若需更强代码理解）。  
- **Oh-My-OpenCode**：把其 agents/skills/hooks 列表当路线图，补全并统一命名，便于“从 OpenCode 生态迁移”的叙事。  
- **OpenCode**：若需桌面/IDE 形态，可考虑将 DaoyouCode 的 serve 或 API 作为后端，由 OpenCode 前端调用。

**结论**  
在“CLI 代码助手 + 多 Agent 平台”这个交集里，DaoyouCode 的**架构与能力广度已超过 aider**，与 opencode、oh-my-opencode 的关系是**互补或生态对齐**而非同形态竞品。后续重点建议放在**编辑体验打磨、稳定性与可观测性、以及按 oh-my-opencode 清单做能力与命名对齐**上。
