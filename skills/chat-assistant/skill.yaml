# åç§°ä¸ CLI é»˜è®¤ --skill chat-assistant å¯¹é½ï¼Œé¿å…æ‰¾ä¸åˆ° Skill
name: chat-assistant
version: 1.0.0
description: äº¤äº’å¼å¯¹è¯åŠ©æ‰‹ï¼Œæ”¯æŒä»£ç ç†è§£ã€ç¼–å†™å’Œé¡¹ç›®åˆ†æ

orchestrator: react
agent: MainAgent

# Prompté…ç½®
prompt:
  file: prompts/chat_assistant.md  # æ”¹è¿›ç‰ˆæœ¬ï¼ˆç»“åˆ DaoyouCode å’Œ Oh-My-OpenCode æœ€ä½³å®è·µï¼‰

# ã€Œäº†è§£é¡¹ç›®ã€é¢„å–ï¼šç”¨ LLM åˆ¤æ–­æ„å›¾ï¼ˆå¦‚ã€Œæˆ‘æƒ³çŸ¥é“æ¶æ„ã€ä¹Ÿä¼šè§¦å‘ï¼‰ï¼Œä¸å†ä¾èµ–å†™æ­»è§¦å‘è¯
project_understanding_use_intent: true
# å½“ project_understanding_use_intent ä¸º false æ—¶ç”Ÿæ•ˆçš„è§¦å‘è¯ï¼ˆå¯é€‰å…œåº•ï¼‰
project_understanding_triggers:
  - äº†è§£
  - çœ‹çœ‹é¡¹ç›®
  - é¡¹ç›®æ€ä¹ˆæ ·
  - é¡¹ç›®æ˜¯å•¥
  - ä»‹ç»é¡¹ç›®
  - è¿™æ˜¯ä»€ä¹ˆé¡¹ç›®
  - è¯´è¯´é¡¹ç›®
  - é¡¹ç›®ç»“æ„

# å¯é€‰ï¼šé¢„å–å—æ€»å­—ç¬¦ä¸Šé™ï¼ˆä¸è®¾åˆ™é»˜è®¤çº¦ 16000ï¼‰ã€‚è‹¥æ¨¡å‹ä¸Šä¸‹æ–‡å¾ˆå°å¯è®¾å°å€¼ï¼ˆå¦‚ 8000ï¼‰é¿å…è¶…çª—
# project_understanding_max_chars: 16000

# LLMé…ç½®ï¼ˆmax_tokens ä¸ºå›å¤é•¿åº¦ä¸Šé™ï¼›è¾“å…¥ä¸Šä¸‹æ–‡ç”±æ¨¡å‹çª—å£å†³å®šï¼ŒReAct ä¸ç»è¿‡ ContextManager çš„ token_budget å‰ªæï¼‰
llm:
  model: qwen-max
  temperature: 0.7
  max_tokens: 4000

# å¯ç”¨å·¥å…·ï¼ˆReActç¼–æ’å™¨ä¼šè‡ªåŠ¨ç®¡ç†ï¼›ã€Œäº†è§£é¡¹ç›®ã€å¿…é¡»ç”¨ä¸‰å±‚ï¼šdiscover_project_docs â†’ get_repo_structure â†’ repo_mapï¼‰
tools:
  - discover_project_docs # é¡¹ç›®æ–‡æ¡£ï¼ˆREADME ç­‰ï¼‰ï¼Œäº†è§£é¡¹ç›®å…ˆè°ƒ
  - get_repo_structure    # ç›®å½•æ ‘
  - repo_map              # ä»£ç åœ°å›¾
  - semantic_code_search  # æŒ‰é—®é¢˜è¯­ä¹‰æ£€ç´¢ç›¸å…³ä»£ç ï¼ˆCursor åŒçº§ï¼‰
  - read_file             # è¯»å–æ–‡ä»¶
  - text_search           # æ–‡æœ¬æœç´¢ï¼ˆä¿®æ­£ï¼šåŸæ¥æ˜¯grep_searchï¼‰
  - regex_search          # æ­£åˆ™æœç´¢
  - write_file            # å†™å…¥æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
  - search_replace        # ğŸ†• æœç´¢æ›¿æ¢ï¼ˆä¿®æ”¹ä»£ç ï¼‰
  - apply_patch           # ğŸ†• åº”ç”¨è¡¥ä¸ï¼ˆç»†ç²’åº¦ç¼–è¾‘ï¼‰
  - list_files            # åˆ—å‡ºç›®å½•ï¼ˆä¿®æ­£ï¼šåŸæ¥æ˜¯list_directoryï¼‰
  - get_file_symbols      # ğŸ†• è·å–æ–‡ä»¶ç¬¦å·ï¼ˆASTï¼‰
  - run_lint              # ğŸ†• è¿è¡Œ lint éªŒè¯
  - git_diff              # ğŸ†• æŸ¥çœ‹ git diff

# ä¸­é—´ä»¶
middleware:
  - context_management
  - memory_integration

# æƒé™ï¼ˆè¯»å†™æƒé™ï¼‰
permissions:
  read:
    - pattern: "*"
      permission: allow
  write:
    - pattern: "*.py"
      permission: allow
    - pattern: "*.js"
      permission: allow
    - pattern: "*.ts"
      permission: allow
    - pattern: "*.md"
      permission: allow
  execute:
    - pattern: "*"
      permission: deny

# è¾“å…¥
inputs:
  - name: user_input
    type: string
    required: true
    description: ç”¨æˆ·è¾“å…¥çš„é—®é¢˜æˆ–æŒ‡ä»¤
  
  - name: session_id
    type: string
    required: false
    description: ä¼šè¯ID
  
  - name: initial_files
    type: array
    required: false
    description: æ‰“å¼€çš„ç¼–è¾‘å™¨æ–‡ä»¶åˆ—è¡¨ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰
  
  - name: repo
    type: string
    required: false
    description: ä»“åº“è·¯å¾„

# è¾“å‡º
outputs:
  - name: response
    type: string
    description: AIçš„å“åº”å†…å®¹
  
  - name: tools_used
    type: array
    description: ä½¿ç”¨çš„å·¥å…·åˆ—è¡¨
  
  - name: reasoning
    type: string
    description: æ¨ç†è¿‡ç¨‹

# Hooké…ç½®
hooks:
  - logging
  - metrics
  - memory_save

# å…ƒæ•°æ®
metadata:
  category: assistant
  cost: MEDIUM
  triggers:
    - "å¯¹è¯"
    - "æé—®"
    - "ä»£ç ç¼–å†™"
    - "é¡¹ç›®åˆ†æ"
  use_when:
    - "ç”¨æˆ·äº¤äº’"
    - "ä»£ç ç†è§£"
    - "é¡¹ç›®æ¢ç´¢"
  features:
    - "è‡ªåŠ¨å·¥å…·è°ƒç”¨"
    - "æ¨ç†å¾ªç¯"
    - "è®°å¿†é›†æˆ"
    - "ä¸Šä¸‹æ–‡ç®¡ç†"
