name: oracle
version: 1.0.0
description: é«˜IQå’¨è¯¢Agent - æ¶æ„åˆ†æå’ŒæŠ€æœ¯å»ºè®®ï¼ˆåªè¯»ï¼‰

# ä½¿ç”¨ç®€å•ç¼–æ’å™¨
orchestrator: react

# ä½¿ç”¨Oracle Agent
agent: oracle

# Prompté…ç½®
prompt:
  file: prompts/oracle.md  # ç®€æ´ç‰ˆæœ¬

# LLMé…ç½®
llm:
  model: qwen-max  # ä½¿ç”¨æœ€å¼ºæ¨¡å‹
  temperature: 0.1  # ä½æ¸©åº¦ï¼Œæ›´å‡†ç¡®
  max_tokens: 4000

# å·¥å…·é…ç½®ï¼ˆåªè¯»ï¼Œåç§°ä¸ registry ä¸€è‡´ï¼‰
tools:
  - repo_map
  - get_repo_structure
  - read_file
  - batch_read_files      # ğŸ†• æ‰¹é‡è¯»å–æ–‡ä»¶
  - text_search
  - regex_search
  - get_file_symbols
  - lsp_diagnostics
  - lsp_find_references
  - lsp_symbols
  - ast_grep_search

# ä¸­é—´ä»¶
middleware:
  - context_management

# æƒé™é…ç½®ï¼ˆåªè¯»ï¼‰
permissions:
  read:
    - pattern: "*"
      permission: allow
  write:
    - pattern: "*"
      permission: deny  # ç¦æ­¢å†™å…¥
  execute:
    - pattern: "*"
      permission: deny  # ç¦æ­¢æ‰§è¡Œ

# è¾“å…¥
inputs:
  - name: analysis_request
    type: string
    required: true
    description: åˆ†æéœ€æ±‚ï¼ˆæ¶æ„åˆ†æã€ä»£ç å®¡æŸ¥ã€æ€§èƒ½åˆ†æç­‰ï¼‰
  
  - name: code_context
    type: string
    required: false
    description: è¦åˆ†æçš„ä»£ç ä¸Šä¸‹æ–‡

# è¾“å‡º
outputs:
  - name: analysis_result
    type: string
    description: è¯¦ç»†çš„åˆ†ææŠ¥å‘Š
  
  - name: recommendations
    type: array
    description: æ”¹è¿›å»ºè®®åˆ—è¡¨

# Hooké…ç½®
hooks:
  - logging
  - metrics

# å…ƒæ•°æ®
metadata:
  category: advisor
  cost: HIGH
  triggers:
    - "æ¶æ„å†³ç­–"
    - "ä»£ç å®¡æŸ¥"
    - "æ€§èƒ½åˆ†æ"
    - "å®‰å…¨å®¡æŸ¥"
    - "æŠ€æœ¯å’¨è¯¢"
  use_when:
    - "å¤æ‚æ¶æ„è®¾è®¡"
    - "å®Œæˆé‡è¦å·¥ä½œåçš„è‡ªæˆ‘å®¡æŸ¥"
    - "2æ¬¡ä»¥ä¸Šä¿®å¤å¤±è´¥å"
    - "ä¸ç†Ÿæ‚‰çš„ä»£ç æ¨¡å¼"
    - "å®‰å…¨/æ€§èƒ½é—®é¢˜"
  avoid_when:
    - "ç®€å•æ–‡ä»¶æ“ä½œ"
    - "ç¬¬ä¸€æ¬¡å°è¯•ä¿®å¤"
    - "ä»å·²è¯»ä»£ç å¯ä»¥å›ç­”çš„é—®é¢˜"
    - "çç¢å†³ç­–ï¼ˆå˜é‡å‘½åã€æ ¼å¼åŒ–ï¼‰"
