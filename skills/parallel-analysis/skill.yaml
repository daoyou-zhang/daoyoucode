name: parallel-analysis
version: 1.0.0
description: å¹¶è¡Œåˆ†æä»»åŠ¡ - å¤šAgentå¹¶è¡Œåä½œç¤ºä¾‹

# ä½¿ç”¨å¤šAgentç¼–æ’å™¨
orchestrator: multi_agent
collaboration_mode: parallel  # å¹¶è¡Œæ‰§è¡Œæ¨¡å¼

# Agentåˆ—è¡¨ï¼ˆåŒæ—¶æ‰§è¡Œï¼‰
agents:
  - code_analyzer       # æ¶æ„åˆ†æ
  - refactor_master     # é‡æ„å»ºè®®
  - test_expert         # æµ‹è¯•ç­–ç•¥
  - programmer          # å®ç°å»ºè®®

# Prompté…ç½®
prompt:
  inline: |
    ä½ æ­£åœ¨å‚ä¸ä¸€ä¸ªå¤šAgentå¹¶è¡Œåˆ†æä»»åŠ¡ã€‚
    
    å½“å‰Agent: {{agent_name}}
    
    ç”¨æˆ·è¯·æ±‚: {{user_input}}
    
    è¯·ä»ä½ çš„ä¸“ä¸šè§’åº¦æä¾›åˆ†æå’Œå»ºè®®ã€‚
    æ³¨æ„ï¼šå…¶ä»–Agentä¹Ÿåœ¨åŒæ—¶åˆ†æï¼Œä½ ä»¬çš„ç»“æœä¼šè¢«èšåˆã€‚

# LLMé…ç½®
llm:
  model: qwen-max
  temperature: 0.3
  max_tokens: 3000

# ä¸­é—´ä»¶
middleware:
  - context_management

tools:
  - read_file
  - batch_read_files      # ğŸ†• æ‰¹é‡è¯»å–æ–‡ä»¶
  - repo_map
  - get_repo_structure
  - text_search
  - get_file_symbols

# æƒé™ï¼ˆåªè¯»ï¼‰
permissions:
  read:
    - pattern: "*"
      permission: allow
  write:
    - pattern: "*"
      permission: deny
  execute:
    - pattern: "*"
      permission: deny

# è¾“å…¥
inputs:
  - name: analysis_request
    type: string
    required: true
    description: åˆ†æéœ€æ±‚
  
  - name: code_context
    type: string
    required: false
    description: ä»£ç ä¸Šä¸‹æ–‡

# è¾“å‡º
outputs:
  - name: aggregated_analysis
    type: string
    description: èšåˆçš„åˆ†æç»“æœ
  
  - name: parallel_results
    type: array
    description: å„Agentçš„å¹¶è¡Œåˆ†æç»“æœ

# Hooké…ç½®
hooks:
  - logging
  - metrics

# å…ƒæ•°æ®
metadata:
  category: analysis
  cost: HIGH
  triggers:
    - "å¤šè§’åº¦åˆ†æ"
    - "å¿«é€Ÿè¯„ä¼°"
    - "æŠ€æœ¯å†³ç­–"
  use_when:
    - "éœ€è¦å¤šä¸ªä¸“ä¸šè§†è§’"
    - "æ—¶é—´ç´§è¿«ï¼ˆå¹¶è¡Œæ›´å¿«ï¼‰"
    - "å¤æ‚æŠ€æœ¯å†³ç­–"
  workflow: |
    å¹¶è¡Œæ‰§è¡Œæµç¨‹ï¼š
    
    æ‰€æœ‰AgentåŒæ—¶æ‰§è¡Œï¼Œå„è‡ªæä¾›ä¸“ä¸šå»ºè®®ï¼š
    
    - code_analyzer: æ¶æ„å’Œè®¾è®¡åˆ†æ
    - refactor_master: é‡æ„å¯è¡Œæ€§å’Œæ–¹æ¡ˆ
    - test_expert: æµ‹è¯•ç­–ç•¥å’Œè¦†ç›–ç‡
    - programmer: å®ç°éš¾åº¦å’ŒæŠ€æœ¯é€‰å‹
    
    æœ€åèšåˆæ‰€æœ‰Agentçš„ç»“æœï¼Œæä¾›ç»¼åˆå»ºè®®ã€‚
