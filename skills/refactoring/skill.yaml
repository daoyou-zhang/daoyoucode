name: refactoring
version: 1.0.0
description: ä»£ç é‡æ„ä¸“å®¶æœåŠ¡

orchestrator: simple
agent: refactor_master

prompt:
  file: prompts/refactor.md  # ç®€æ´ç‰ˆæœ¬

llm:
  model: qwen-coder-plus
  temperature: 0.2
  max_tokens: 4000

middleware:
  - context_management

tools:
  - read_file
  - batch_read_files      # ğŸ†• æ‰¹é‡è¯»å–æ–‡ä»¶
  - write_file
  - batch_write_files     # ğŸ†• æ‰¹é‡å†™å…¥æ–‡ä»¶
  - list_files
  - get_file_info
  - text_search
  - regex_search
  - search_replace
  - git_status
  - git_diff

permissions:
  read:
    - pattern: "*"
      permission: allow
  write:
    - pattern: "*.py"
      permission: ask
    - pattern: "*.js"
      permission: ask
    - pattern: "*.ts"
      permission: ask

inputs:
  - name: refactor_request
    type: string
    required: true
    description: é‡æ„éœ€æ±‚
  
  - name: code_content
    type: string
    required: false
    description: è¦é‡æ„çš„ä»£ç 
  
  - name: test_content
    type: string
    required: false
    description: ç°æœ‰æµ‹è¯•

outputs:
  - name: refactor_plan
    type: string
    description: é‡æ„æ–¹æ¡ˆ
  
  - name: steps
    type: array
    description: é‡æ„æ­¥éª¤åˆ—è¡¨

hooks:
  - logging
  - metrics
  - validation

metadata:
  category: development
  cost: MEDIUM
